<!DOCTYPE html>
<html lang="pt-br" xml:lang="pt-br">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Objeto II - Matrizes e data.frames | Curso básico de introdução à linguagem R</title>
  <meta name="description" content="Este livro é um guia básico para conhecer a sintaxe básica da linguagem de programação R e o potencial de utilizá-la como ferramenta científica." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Objeto II - Matrizes e data.frames | Curso básico de introdução à linguagem R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este livro é um guia básico para conhecer a sintaxe básica da linguagem de programação R e o potencial de utilizá-la como ferramenta científica." />
  <meta name="github-repo" content="LABOTAM/LABOTAM.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Objeto II - Matrizes e data.frames | Curso básico de introdução à linguagem R" />
  
  <meta name="twitter:description" content="Este livro é um guia básico para conhecer a sintaxe básica da linguagem de programação R e o potencial de utilizá-la como ferramenta científica." />
  

<meta name="author" content="Alberto Vicentini (INPA)" />
<meta name="author" content="Ricardo de Oliveira Perdiz - ricardoperdiz@yahoo.com" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="vetores.html"/>
<link rel="next" href="lista-objcompl.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/LABOTAM/LABOTAM.github.io">Curso básico de introdução ao R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estrutura-do-livro"><i class="fa fa-check"></i>Estrutura do livro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-os-autores"><i class="fa fa-check"></i>Sobre os autores</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pré-requisitos"><i class="fa fa-check"></i>Pré-requisitos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#caso-você-possua-um-computador"><i class="fa fa-check"></i>Caso você possua um computador</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instale-o-r"><i class="fa fa-check"></i>Instale o R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instale-um-ambiente-de-desenvolvimento-integrado---ide"><i class="fa fa-check"></i>Instale um ambiente de desenvolvimento integrado - IDE</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#baixe-o-repositório-para-seu-computador"><i class="fa fa-check"></i>Baixe o repositório para seu computador</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#caso-você-não-possua-um-computador"><i class="fa fa-check"></i>Caso você não possua um computador</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#o-que-é-o-r-e-por-qual-razão-você-deve-se-preocupar-em-programar"><i class="fa fa-check"></i>O que é o R e por qual razão você deve se preocupar em programar</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#o-r-em-poucas-palavras"><i class="fa fa-check"></i>O R em poucas palavras</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#por-que-programar"><i class="fa fa-check"></i>Por que programar?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#análise-exploratória-de-dados-aed"><i class="fa fa-check"></i>Análise exploratória de dados (AED)</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#o-que-é-aed-e-por-que-fazer-aed"><i class="fa fa-check"></i>O que é AED e por que fazer AED?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos-da-aed"><i class="fa fa-check"></i>Objetivos da AED</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#para-ler"><i class="fa fa-check"></i>Para ler</a></li>
</ul></li>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#exercícios-no-notar"><i class="fa fa-check"></i><b>0.1</b> Exercícios no <strong>notaR</strong></a><ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#conhecendo-o-notar"><i class="fa fa-check"></i><b>0.1.1</b> Conhecendo o <strong>notaR</strong></a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#referências-bibliográficas"><i class="fa fa-check"></i><b>0.2</b> Referências bibliográficas</a></li>
</ul></li>
<li class="part"><span><b>I Parte I</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Conceitos introdutórios</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#console-e-scripts"><i class="fa fa-check"></i><b>1.1</b> Console e scripts</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#linguagem-objeto-orientada"><i class="fa fa-check"></i><b>1.2</b> Linguagem objeto-orientada</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#r-base-e-pacotes"><i class="fa fa-check"></i><b>1.3</b> R-base e pacotes</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#help"><i class="fa fa-check"></i><b>1.4</b> Ajuda no R</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#área-de-trabalho-vs.-pasta-de-trabalho"><i class="fa fa-check"></i><b>1.5</b> Área de trabalho vs. Pasta de Trabalho</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#dicas-de-organização-do-trabalho"><i class="fa fa-check"></i><b>1.6</b> Dicas de organização do trabalho</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#dicas-de-erros-comuns-de-sintaxe-da-linguagem-r"><i class="fa fa-check"></i><b>1.7</b> Dicas de erros comuns de sintaxe da linguagem R</a><ul>
<li class="chapter" data-level="1.7.1" data-path="intro.html"><a href="intro.html#parênteses"><i class="fa fa-check"></i><b>1.7.1</b> Parênteses</a></li>
<li class="chapter" data-level="1.7.2" data-path="intro.html"><a href="intro.html#vírgulas"><i class="fa fa-check"></i><b>1.7.2</b> Vírgulas</a></li>
<li class="chapter" data-level="1.7.3" data-path="intro.html"><a href="intro.html#aspas"><i class="fa fa-check"></i><b>1.7.3</b> Aspas</a></li>
<li class="chapter" data-level="1.7.4" data-path="intro.html"><a href="intro.html#números"><i class="fa fa-check"></i><b>1.7.4</b> Números</a></li>
<li class="chapter" data-level="1.7.5" data-path="intro.html"><a href="intro.html#nomes-de-objetos"><i class="fa fa-check"></i><b>1.7.5</b> Nomes de objetos</a></li>
<li class="chapter" data-level="1.7.6" data-path="intro.html"><a href="intro.html#atribuição-de-objetos"><i class="fa fa-check"></i><b>1.7.6</b> Atribuição de objetos</a></li>
<li class="chapter" data-level="1.7.7" data-path="intro.html"><a href="intro.html#busque-entender-as-partes"><i class="fa fa-check"></i><b>1.7.7</b> Busque entender as partes</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#o-r-como-calculadora"><i class="fa fa-check"></i><b>1.8</b> O R como calculadora</a><ul>
<li class="chapter" data-level="1.8.1" data-path="intro.html"><a href="intro.html#operadores"><i class="fa fa-check"></i><b>1.8.1</b> Operadores</a></li>
<li class="chapter" data-level="1.8.2" data-path="intro.html"><a href="intro.html#precedência-de-parênteses"><i class="fa fa-check"></i><b>1.8.2</b> Precedência de parênteses</a></li>
<li class="chapter" data-level="1.8.3" data-path="intro.html"><a href="intro.html#funções-e-constantes-matemáticas"><i class="fa fa-check"></i><b>1.8.3</b> Funções e constantes matemáticas</a></li>
<li class="chapter" data-level="1.8.4" data-path="intro.html"><a href="intro.html#valor-na"><i class="fa fa-check"></i><b>1.8.4</b> NA e valores afins</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="intro.html"><a href="intro.html#exercícios"><i class="fa fa-check"></i><b>1.9</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vetores.html"><a href="vetores.html"><i class="fa fa-check"></i><b>2</b> Objeto I - Vetores</a><ul>
<li class="chapter" data-level="2.1" data-path="vetores.html"><a href="vetores.html#vetores-e-operações-vetoriais-i"><i class="fa fa-check"></i><b>2.1</b> Vetores e operações vetoriais I</a><ul>
<li class="chapter" data-level="2.1.1" data-path="vetores.html"><a href="vetores.html#criação-de-vetores"><i class="fa fa-check"></i><b>2.1.1</b> Criação de Vetores</a></li>
<li class="chapter" data-level="2.1.2" data-path="vetores.html"><a href="vetores.html#sequências-numéricas-repetições"><i class="fa fa-check"></i><b>2.1.2</b> Sequências Numéricas &amp; Repetições</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="vetores.html"><a href="vetores.html#operações-matemáticas-com-vetores"><i class="fa fa-check"></i><b>2.2</b> Operações Matemáticas com Vetores</a></li>
<li class="chapter" data-level="2.3" data-path="vetores.html"><a href="vetores.html#funções-com-vetores"><i class="fa fa-check"></i><b>2.3</b> Funções com Vetores</a></li>
<li class="chapter" data-level="2.4" data-path="vetores.html"><a href="vetores.html#classes"><i class="fa fa-check"></i><b>2.4</b> Classes de vetores e fatores</a></li>
<li class="chapter" data-level="2.5" data-path="vetores.html"><a href="vetores.html#indexacao"><i class="fa fa-check"></i><b>2.5</b> Indexação</a><ul>
<li class="chapter" data-level="2.5.1" data-path="vetores.html"><a href="vetores.html#usando-índices-numéricos"><i class="fa fa-check"></i><b>2.5.1</b> Usando índices numéricos</a></li>
<li class="chapter" data-level="2.5.2" data-path="vetores.html"><a href="vetores.html#usando-índices-de-nomes"><i class="fa fa-check"></i><b>2.5.2</b> Usando índices de nomes</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="vetores.html"><a href="vetores.html#vetor-operador-logico"><i class="fa fa-check"></i><b>2.6</b> Vetores e operadores lógicos</a><ul>
<li class="chapter" data-level="2.6.1" data-path="vetores.html"><a href="vetores.html#perg-vetores"><i class="fa fa-check"></i><b>2.6.1</b> Fazendo perguntas à vetores</a></li>
<li class="chapter" data-level="2.6.2" data-path="vetores.html"><a href="vetores.html#vetor-filtro-logico"><i class="fa fa-check"></i><b>2.6.2</b> Filtrando dados com vetores lógicos</a></li>
<li class="chapter" data-level="2.6.3" data-path="vetores.html"><a href="vetores.html#filtro-dados-ausentes"><i class="fa fa-check"></i><b>2.6.3</b> Perguntando por valores ausentes - NA</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="vetores.html"><a href="vetores.html#sabermais-vetores"><i class="fa fa-check"></i><b>2.7</b> Para saber mais:</a></li>
<li class="chapter" data-level="2.8" data-path="vetores.html"><a href="vetores.html#exercícios-1"><i class="fa fa-check"></i><b>2.8</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mat-dframe.html"><a href="mat-dframe.html"><i class="fa fa-check"></i><b>3</b> Objeto II - Matrizes e <code>data.frames</code></a><ul>
<li class="chapter" data-level="3.1" data-path="mat-dframe.html"><a href="mat-dframe.html#matriz-vs.-data.frame"><i class="fa fa-check"></i><b>3.1</b> Matriz vs. <code>data.frame</code></a><ul>
<li class="chapter" data-level="3.1.1" data-path="mat-dframe.html"><a href="mat-dframe.html#criando-matrizes"><i class="fa fa-check"></i><b>3.1.1</b> Criando matrizes</a></li>
<li class="chapter" data-level="3.1.2" data-path="mat-dframe.html"><a href="mat-dframe.html#criando-data.frames"><i class="fa fa-check"></i><b>3.1.2</b> Criando <code>data.frames</code></a></li>
<li class="chapter" data-level="3.1.3" data-path="mat-dframe.html"><a href="mat-dframe.html#funções-importantes-na-manipulação-de-matrizes-e-data.frames"><i class="fa fa-check"></i><b>3.1.3</b> Funções importantes na manipulação de matrizes e <code>data.frames</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="mat-dframe.html"><a href="mat-dframe.html#indexação-de-matriz-e-data.frame"><i class="fa fa-check"></i><b>3.2</b> Indexação de matriz e <code>data.frame</code></a><ul>
<li class="chapter" data-level="3.2.1" data-path="mat-dframe.html"><a href="mat-dframe.html#matrizes"><i class="fa fa-check"></i><b>3.2.1</b> Matrizes</a></li>
<li class="chapter" data-level="3.2.2" data-path="mat-dframe.html"><a href="mat-dframe.html#data.frame"><i class="fa fa-check"></i><b>3.2.2</b> <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="mat-dframe.html"><a href="mat-dframe.html#filtrando-e-ordenando-matrizes-e-data.frames"><i class="fa fa-check"></i><b>3.3</b> Filtrando e ordenando matrizes e <code>data.frames</code></a><ul>
<li class="chapter" data-level="3.3.1" data-path="mat-dframe.html"><a href="mat-dframe.html#filtragem-de-dados"><i class="fa fa-check"></i><b>3.3.1</b> Filtragem de dados</a></li>
<li class="chapter" data-level="3.3.2" data-path="mat-dframe.html"><a href="mat-dframe.html#ordenação-de-dados"><i class="fa fa-check"></i><b>3.3.2</b> Ordenação de dados</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="mat-dframe.html"><a href="mat-dframe.html#importanto-e-exportando-dados-no-r"><i class="fa fa-check"></i><b>3.4</b> Importanto e exportando dados no R</a><ul>
<li class="chapter" data-level="3.4.1" data-path="mat-dframe.html"><a href="mat-dframe.html#arquivos-de-texto-simples-para-estocar-dados"><i class="fa fa-check"></i><b>3.4.1</b> Arquivos de texto simples para estocar dados</a></li>
<li class="chapter" data-level="3.4.2" data-path="mat-dframe.html"><a href="mat-dframe.html#import-dados"><i class="fa fa-check"></i><b>3.4.2</b> Importando dados</a></li>
<li class="chapter" data-level="3.4.3" data-path="mat-dframe.html"><a href="mat-dframe.html#exportando-dados"><i class="fa fa-check"></i><b>3.4.3</b> Exportando dados</a></li>
<li class="chapter" data-level="3.4.4" data-path="mat-dframe.html"><a href="mat-dframe.html#outras-funções-úteis"><i class="fa fa-check"></i><b>3.4.4</b> Outras funções úteis</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="mat-dframe.html"><a href="mat-dframe.html#sabermais-indexacao-matrizes-dframes"><i class="fa fa-check"></i><b>3.5</b> Para saber mais:</a></li>
<li class="chapter" data-level="3.6" data-path="mat-dframe.html"><a href="mat-dframe.html#exercícios-2"><i class="fa fa-check"></i><b>3.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lista-objcompl.html"><a href="lista-objcompl.html"><i class="fa fa-check"></i><b>4</b> Objeto III - Listas e objetos complexos</a><ul>
<li class="chapter" data-level="4.1" data-path="lista-objcompl.html"><a href="lista-objcompl.html#listas"><i class="fa fa-check"></i><b>4.1</b> Listas</a></li>
<li class="chapter" data-level="4.2" data-path="lista-objcompl.html"><a href="lista-objcompl.html#obj-complexos"><i class="fa fa-check"></i><b>4.2</b> Objetos complexos</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="func-graf.html"><a href="func-graf.html"><i class="fa fa-check"></i><b>5</b> Funções gráficas</a><ul>
<li class="chapter" data-level="5.1" data-path="func-graf.html"><a href="func-graf.html#dispositivos-gráficos"><i class="fa fa-check"></i><b>5.1</b> Dispositivos Gráficos</a><ul>
<li class="chapter" data-level="5.1.1" data-path="func-graf.html"><a href="func-graf.html#função-plot"><i class="fa fa-check"></i><b>5.1.1</b> Função <code>plot()</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="func-graf.html"><a href="func-graf.html#dispositivos-de-tela"><i class="fa fa-check"></i><b>5.1.2</b> Dispositivos de Tela</a></li>
<li class="chapter" data-level="5.1.3" data-path="func-graf.html"><a href="func-graf.html#listar-e-controlar-dispositivos"><i class="fa fa-check"></i><b>5.1.3</b> Listar e controlar dispositivos</a></li>
<li class="chapter" data-level="5.1.4" data-path="func-graf.html"><a href="func-graf.html#dispositivos-de-arquivos"><i class="fa fa-check"></i><b>5.1.4</b> Dispositivos de arquivos</a></li>
<li class="chapter" data-level="5.1.5" data-path="func-graf.html"><a href="func-graf.html#figuras-vetoriais-em-pdf-ou-postscript"><i class="fa fa-check"></i><b>5.1.5</b> Figuras vetoriais em <code>pdf</code> ou <code>postscript</code></a></li>
<li class="chapter" data-level="5.1.6" data-path="func-graf.html"><a href="func-graf.html#figuras-raster"><i class="fa fa-check"></i><b>5.1.6</b> Figuras raster</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="func-graf.html"><a href="func-graf.html#par-graficos-p1"><i class="fa fa-check"></i><b>5.2</b> Parâmetros gráficos, parte I - Margem, fonte, proporções</a><ul>
<li class="chapter" data-level="5.2.1" data-path="func-graf.html"><a href="func-graf.html#margem-da-figura"><i class="fa fa-check"></i><b>5.2.1</b> Margem da figura</a></li>
<li class="chapter" data-level="5.2.2" data-path="func-graf.html"><a href="func-graf.html#aspecto-dos-eixos"><i class="fa fa-check"></i><b>5.2.2</b> Aspecto dos eixos</a></li>
<li class="chapter" data-level="5.2.3" data-path="func-graf.html"><a href="func-graf.html#proporção-dos-eixos"><i class="fa fa-check"></i><b>5.2.3</b> Proporção dos eixos</a></li>
<li class="chapter" data-level="5.2.4" data-path="func-graf.html"><a href="func-graf.html#múltiplas-figuras-na-mesma-tela-ou-página-com-mfrow-e-mfcol"><i class="fa fa-check"></i><b>5.2.4</b> Múltiplas figuras na mesma tela ou página com <code>mfrow()</code> e <code>mfcol()</code></a></li>
<li class="chapter" data-level="5.2.5" data-path="func-graf.html"><a href="func-graf.html#múltiplas-figuras-na-mesma-image-usando-a-função-layout"><i class="fa fa-check"></i><b>5.2.5</b> Múltiplas figuras na mesma image usando a função <code>layout()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="func-graf.html"><a href="func-graf.html#par-graficos-p2"><i class="fa fa-check"></i><b>5.3</b> Parâmetros gráficos, parte II - Símbolos e cores</a><ul>
<li class="chapter" data-level="5.3.1" data-path="func-graf.html"><a href="func-graf.html#tipo-de-símbolo---pch"><i class="fa fa-check"></i><b>5.3.1</b> Tipo de símbolo - <code>pch</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="func-graf.html"><a href="func-graf.html#tamanho-dos-pontos---cex"><i class="fa fa-check"></i><b>5.3.2</b> Tamanho dos pontos - <code>cex</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="func-graf.html"><a href="func-graf.html#linhas"><i class="fa fa-check"></i><b>5.3.3</b> Linhas</a></li>
<li class="chapter" data-level="5.3.4" data-path="func-graf.html"><a href="func-graf.html#cores-de-símbolos---col-e-bg"><i class="fa fa-check"></i><b>5.3.4</b> Cores de símbolos - <code>col</code> e <code>bg</code></a></li>
<li class="chapter" data-level="5.3.5" data-path="func-graf.html"><a href="func-graf.html#funções-que-definem-cores"><i class="fa fa-check"></i><b>5.3.5</b> Funções que definem cores</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="func-graf.html"><a href="func-graf.html#graf-alto-nivel"><i class="fa fa-check"></i><b>5.4</b> Funções gráficas de alto nível</a><ul>
<li class="chapter" data-level="5.4.1" data-path="func-graf.html"><a href="func-graf.html#plot---uma-função-genérica"><i class="fa fa-check"></i><b>5.4.1</b> <code>plot()</code> - uma função genérica</a></li>
<li class="chapter" data-level="5.4.2" data-path="func-graf.html"><a href="func-graf.html#hist"><i class="fa fa-check"></i><b>5.4.2</b> <code>hist()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="func-graf.html"><a href="func-graf.html#boxplot"><i class="fa fa-check"></i><b>5.4.3</b> <code>boxplot()</code></a></li>
<li class="chapter" data-level="5.4.4" data-path="func-graf.html"><a href="func-graf.html#barplot"><i class="fa fa-check"></i><b>5.4.4</b> <code>barplot()</code></a></li>
<li class="chapter" data-level="5.4.5" data-path="func-graf.html"><a href="func-graf.html#plot.phylo"><i class="fa fa-check"></i><b>5.4.5</b> <code>plot.phylo()</code></a></li>
<li class="chapter" data-level="5.4.6" data-path="func-graf.html"><a href="func-graf.html#image-e-countour"><i class="fa fa-check"></i><b>5.4.6</b> <code>image()</code> e <code>countour()</code></a></li>
<li class="chapter" data-level="5.4.7" data-path="func-graf.html"><a href="func-graf.html#map"><i class="fa fa-check"></i><b>5.4.7</b> <code>map()</code></a></li>
<li class="chapter" data-level="5.4.8" data-path="func-graf.html"><a href="func-graf.html#xlim-e-ylim"><i class="fa fa-check"></i><b>5.4.8</b> <code>xlim</code> e <code>ylim</code></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="func-graf.html"><a href="func-graf.html#graf-baixo-nivel"><i class="fa fa-check"></i><b>5.5</b> Funções gráficas de baixo nível</a><ul>
<li class="chapter" data-level="5.5.1" data-path="func-graf.html"><a href="func-graf.html#legend"><i class="fa fa-check"></i><b>5.5.1</b> <code>legend()</code></a></li>
<li class="chapter" data-level="5.5.2" data-path="func-graf.html"><a href="func-graf.html#points"><i class="fa fa-check"></i><b>5.5.2</b> <code>points()</code></a></li>
<li class="chapter" data-level="5.5.3" data-path="func-graf.html"><a href="func-graf.html#text-e-mtext"><i class="fa fa-check"></i><b>5.5.3</b> <code>text()</code> e <code>mtext()</code></a></li>
<li class="chapter" data-level="5.5.4" data-path="func-graf.html"><a href="func-graf.html#axis"><i class="fa fa-check"></i><b>5.5.4</b> <code>axis()</code></a></li>
<li class="chapter" data-level="5.5.5" data-path="func-graf.html"><a href="func-graf.html#abline"><i class="fa fa-check"></i><b>5.5.5</b> <code>abline()</code></a></li>
<li class="chapter" data-level="5.5.6" data-path="func-graf.html"><a href="func-graf.html#arrows-rect-polygon-e-segments"><i class="fa fa-check"></i><b>5.5.6</b> <code>arrows()</code>, <code>rect()</code>, <code>polygon()</code> e <code>segments()</code></a></li>
<li class="chapter" data-level="5.5.7" data-path="func-graf.html"><a href="func-graf.html#symbols"><i class="fa fa-check"></i><b>5.5.7</b> <code>symbols()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="func-graf.html"><a href="func-graf.html#funções-gráficas-interativas"><i class="fa fa-check"></i><b>5.6</b> Funções gráficas interativas</a><ul>
<li class="chapter" data-level="5.6.1" data-path="func-graf.html"><a href="func-graf.html#locator"><i class="fa fa-check"></i><b>5.6.1</b> <code>locator()</code></a></li>
<li class="chapter" data-level="5.6.2" data-path="func-graf.html"><a href="func-graf.html#identify"><i class="fa fa-check"></i><b>5.6.2</b> <code>identify()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="func-graf.html"><a href="func-graf.html#sabermais-disp-grafico"><i class="fa fa-check"></i><b>5.7</b> Para saber mais:</a></li>
<li class="chapter" data-level="5.8" data-path="func-graf.html"><a href="func-graf.html#exercícios-3"><i class="fa fa-check"></i><b>5.8</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="iter-cflux.html"><a href="iter-cflux.html"><i class="fa fa-check"></i><b>6</b> Iteração e controle de fluxo</a><ul>
<li class="chapter" data-level="6.1" data-path="iter-cflux.html"><a href="iter-cflux.html#func-apply"><i class="fa fa-check"></i><b>6.1</b> Funções da família <code>apply()</code></a><ul>
<li class="chapter" data-level="6.1.1" data-path="iter-cflux.html"><a href="iter-cflux.html#em-uma-matriz"><i class="fa fa-check"></i><b>6.1.1</b> Em uma matriz</a></li>
<li class="chapter" data-level="6.1.2" data-path="iter-cflux.html"><a href="iter-cflux.html#em-um-vetor-ou-lista"><i class="fa fa-check"></i><b>6.1.2</b> Em um vetor ou lista</a></li>
<li class="chapter" data-level="6.1.3" data-path="iter-cflux.html"><a href="iter-cflux.html#por-categoria-de-um-fator"><i class="fa fa-check"></i><b>6.1.3</b> Por categoria de um fator</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="iter-cflux.html"><a href="iter-cflux.html#condicionais"><i class="fa fa-check"></i><b>6.2</b> Condicionais</a><ul>
<li class="chapter" data-level="6.2.1" data-path="iter-cflux.html"><a href="iter-cflux.html#condicional-if"><i class="fa fa-check"></i><b>6.2.1</b> Condicional <code>if ()</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="iter-cflux.html"><a href="iter-cflux.html#condicional-if-com-o-else"><i class="fa fa-check"></i><b>6.2.2</b> Condicional <code>if ()</code> com o <code>else</code></a></li>
<li class="chapter" data-level="6.2.3" data-path="iter-cflux.html"><a href="iter-cflux.html#condicional-ifelse"><i class="fa fa-check"></i><b>6.2.3</b> Condicional <code>ifelse()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="iter-cflux.html"><a href="iter-cflux.html#iteracoes"><i class="fa fa-check"></i><b>6.3</b> Iterações</a><ul>
<li class="chapter" data-level="6.3.1" data-path="iter-cflux.html"><a href="iter-cflux.html#iteração-com-for"><i class="fa fa-check"></i><b>6.3.1</b> Iteração com <code>for(){}</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="iter-cflux.html"><a href="iter-cflux.html#iteração-com-while"><i class="fa fa-check"></i><b>6.3.2</b> Iteração com <code>while(){}</code></a></li>
<li class="chapter" data-level="6.3.3" data-path="iter-cflux.html"><a href="iter-cflux.html#iteração-com-for-e-a-condicional-if"><i class="fa fa-check"></i><b>6.3.3</b> Iteração com <code>for(){}</code> e a condicional <code>if(){}</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="iter-cflux.html"><a href="iter-cflux.html#criando-ou-modificando-funções"><i class="fa fa-check"></i><b>6.4</b> Criando ou modificando funções</a><ul>
<li class="chapter" data-level="6.4.1" data-path="iter-cflux.html"><a href="iter-cflux.html#exemplo-i"><i class="fa fa-check"></i><b>6.4.1</b> Exemplo I</a></li>
<li class="chapter" data-level="6.4.2" data-path="iter-cflux.html"><a href="iter-cflux.html#exemplo-ii"><i class="fa fa-check"></i><b>6.4.2</b> Exemplo II</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="iter-cflux.html"><a href="iter-cflux.html#sabermais-condic"><i class="fa fa-check"></i><b>6.5</b> Para saber mais:</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sumar-dados.html"><a href="sumar-dados.html"><i class="fa fa-check"></i><b>7</b> Sumarização de dados</a><ul>
<li class="chapter" data-level="7.1" data-path="sumar-dados.html"><a href="sumar-dados.html#tabela-dinamica"><i class="fa fa-check"></i><b>7.1</b> Tabelas dinâmicas</a></li>
<li class="chapter" data-level="7.2" data-path="sumar-dados.html"><a href="sumar-dados.html#tabelas-de-contagem"><i class="fa fa-check"></i><b>7.2</b> Tabelas de contagem</a></li>
<li class="chapter" data-level="7.3" data-path="sumar-dados.html"><a href="sumar-dados.html#lógica-da-junção-de-tabelas"><i class="fa fa-check"></i><b>7.3</b> Lógica da junção de tabelas</a><ul>
<li class="chapter" data-level="7.3.1" data-path="sumar-dados.html"><a href="sumar-dados.html#juncao-tbl-maneira1"><i class="fa fa-check"></i><b>7.3.1</b> Maneira 1 - função <code>match()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="sumar-dados.html"><a href="sumar-dados.html#maneira-2---índices-nominais"><i class="fa fa-check"></i><b>7.3.2</b> Maneira 2 - índices nominais</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="sumar-dados.html"><a href="sumar-dados.html#junção-de-tabelas-utilizando-funções"><i class="fa fa-check"></i><b>7.4</b> Junção de tabelas utilizando funções</a><ul>
<li class="chapter" data-level="7.4.1" data-path="sumar-dados.html"><a href="sumar-dados.html#dados-para-nossa-prática"><i class="fa fa-check"></i><b>7.4.1</b> Dados para nossa prática</a></li>
<li class="chapter" data-level="7.4.2" data-path="sumar-dados.html"><a href="sumar-dados.html#maneira-3---função-merge"><i class="fa fa-check"></i><b>7.4.2</b> Maneira 3 - função <code>merge()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="sumar-dados.html"><a href="sumar-dados.html#para-saber-mais"><i class="fa fa-check"></i><b>7.5</b> Para saber mais</a></li>
<li class="chapter" data-level="7.6" data-path="sumar-dados.html"><a href="sumar-dados.html#exercícios-4"><i class="fa fa-check"></i><b>7.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html"><i class="fa fa-check"></i><b>8</b> Manipulação de textos, arquivos e pastas</a><ul>
<li class="chapter" data-level="8.1" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#funções-para-manipulação-e-busca-de-textos"><i class="fa fa-check"></i><b>8.1</b> Funções para manipulação e busca de textos</a><ul>
<li class="chapter" data-level="8.1.1" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#colar-ou-concatenar-textos"><i class="fa fa-check"></i><b>8.1.1</b> Colar ou concatenar textos</a></li>
<li class="chapter" data-level="8.1.2" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#quebrar-ou-desconcatenar-textos"><i class="fa fa-check"></i><b>8.1.2</b> Quebrar ou desconcatenar textos</a></li>
<li class="chapter" data-level="8.1.3" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#altera-caixa-do-texto"><i class="fa fa-check"></i><b>8.1.3</b> Altera caixa do texto</a></li>
<li class="chapter" data-level="8.1.4" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#remove-espaços-em-branco"><i class="fa fa-check"></i><b>8.1.4</b> Remove espaços em branco</a></li>
<li class="chapter" data-level="8.1.5" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#substitui-ou-pega-parte-de-texto"><i class="fa fa-check"></i><b>8.1.5</b> Substitui ou pega parte de texto</a></li>
<li class="chapter" data-level="8.1.6" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#expressões-regulares"><i class="fa fa-check"></i><b>8.1.6</b> Expressões Regulares</a></li>
<li class="chapter" data-level="8.1.7" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#remove-acentos"><i class="fa fa-check"></i><b>8.1.7</b> Remove Acentos</a></li>
<li class="chapter" data-level="8.1.8" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#metacaracteres"><i class="fa fa-check"></i><b>8.1.8</b> Metacaracteres</a></li>
<li class="chapter" data-level="8.1.9" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#classes-caracteres"><i class="fa fa-check"></i><b>8.1.9</b> Classes de caracteres</a></li>
<li class="chapter" data-level="8.1.10" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#barra-invertida"><i class="fa fa-check"></i><b>8.1.10</b> Barra invertida <code>\</code></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#manipulação-de-pastas-e-arquivos"><i class="fa fa-check"></i><b>8.2</b> Manipulação de pastas e arquivos</a></li>
<li class="chapter" data-level="8.3" data-path="manip-txt-arq-pasta.html"><a href="manip-txt-arq-pasta.html#sabermais-manip-txt-arqs-fld"><i class="fa fa-check"></i><b>8.3</b> Para saber mais:</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="amost-aleat.html"><a href="amost-aleat.html"><i class="fa fa-check"></i><b>9</b> Amostragens aleatórias</a><ul>
<li class="chapter" data-level="9.1" data-path="amost-aleat.html"><a href="amost-aleat.html#funções-para-gerar-permutações-e-simular-dados"><i class="fa fa-check"></i><b>9.1</b> Funções para gerar permutações e simular dados</a></li>
<li class="chapter" data-level="9.2" data-path="amost-aleat.html"><a href="amost-aleat.html#distribuições-aleatórias"><i class="fa fa-check"></i><b>9.2</b> Distribuições aleatórias</a><ul>
<li class="chapter" data-level="9.2.1" data-path="amost-aleat.html"><a href="amost-aleat.html#distribuição-normal"><i class="fa fa-check"></i><b>9.2.1</b> Distribuição Normal</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="amost-aleat.html"><a href="amost-aleat.html#sabermais-distribuicoes"><i class="fa fa-check"></i><b>9.3</b> Para saber mais:</a></li>
<li class="chapter" data-level="9.4" data-path="amost-aleat.html"><a href="amost-aleat.html#exercícios-5"><i class="fa fa-check"></i><b>9.4</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="extr-dados.html"><a href="extr-dados.html"><i class="fa fa-check"></i><b>10</b> Extraindo dados de colunas descritivas</a><ul>
<li class="chapter" data-level="10.1" data-path="extr-dados.html"><a href="extr-dados.html#dados-categóricos"><i class="fa fa-check"></i><b>10.1</b> Dados categóricos</a><ul>
<li class="chapter" data-level="10.1.1" data-path="extr-dados.html"><a href="extr-dados.html#passo-01---lista-de-referência"><i class="fa fa-check"></i><b>10.1.1</b> Passo 01 - Lista de referência</a></li>
<li class="chapter" data-level="10.1.2" data-path="extr-dados.html"><a href="extr-dados.html#passo-02---funções-que-fazem-a-busca"><i class="fa fa-check"></i><b>10.1.2</b> Passo 02 - Funções que fazem a busca</a></li>
<li class="chapter" data-level="10.1.3" data-path="extr-dados.html"><a href="extr-dados.html#passo-03---usando-a-função"><i class="fa fa-check"></i><b>10.1.3</b> Passo 03 - Usando a função</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="extr-dados.html"><a href="extr-dados.html#listas-ref"><i class="fa fa-check"></i><b>10.2</b> Listas de referência</a><ul>
<li class="chapter" data-level="10.2.1" data-path="extr-dados.html"><a href="extr-dados.html#hábito-da-planta"><i class="fa fa-check"></i><b>10.2.1</b> Hábito da planta</a></li>
<li class="chapter" data-level="10.2.2" data-path="extr-dados.html"><a href="extr-dados.html#estado-de-fertilidade-da-amostra"><i class="fa fa-check"></i><b>10.2.2</b> Estado de fertilidade da amostra</a></li>
<li class="chapter" data-level="10.2.3" data-path="extr-dados.html"><a href="extr-dados.html#classes-de-hábitat"><i class="fa fa-check"></i><b>10.2.3</b> Classes de hábitat</a></li>
<li class="chapter" data-level="10.2.4" data-path="extr-dados.html"><a href="extr-dados.html#textura-do-solo"><i class="fa fa-check"></i><b>10.2.4</b> Textura do solo</a></li>
<li class="chapter" data-level="10.2.5" data-path="extr-dados.html"><a href="extr-dados.html#exsudato"><i class="fa fa-check"></i><b>10.2.5</b> Exsudato</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="extr-dados.html"><a href="extr-dados.html#extraindo-altura-e-dap"><i class="fa fa-check"></i><b>10.3</b> Extraindo altura e dap</a><ul>
<li class="chapter" data-level="10.3.1" data-path="extr-dados.html"><a href="extr-dados.html#altura"><i class="fa fa-check"></i><b>10.3.1</b> Altura</a></li>
<li class="chapter" data-level="10.3.2" data-path="extr-dados.html"><a href="extr-dados.html#dap"><i class="fa fa-check"></i><b>10.3.2</b> DAP</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="extr-dados.html"><a href="extr-dados.html#usando-essas-funções"><i class="fa fa-check"></i><b>10.4</b> Usando essas funções</a><ul>
<li class="chapter" data-level="10.4.1" data-path="extr-dados.html"><a href="extr-dados.html#obtendo-valores-de-altura"><i class="fa fa-check"></i><b>10.4.1</b> Obtendo valores de altura</a></li>
<li class="chapter" data-level="10.4.2" data-path="extr-dados.html"><a href="extr-dados.html#obtendo-valores-de-dap"><i class="fa fa-check"></i><b>10.4.2</b> Obtendo valores de DAP</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Parte II</b></span></li>
<li class="chapter" data-level="11" data-path="aed-checa-dados.html"><a href="aed-checa-dados.html"><i class="fa fa-check"></i><b>11</b> Checagem dos dados</a><ul>
<li class="chapter" data-level="11.1" data-path="aed-checa-dados.html"><a href="aed-checa-dados.html#tem-valores-ausentes"><i class="fa fa-check"></i><b>11.1</b> Tem valores ausentes?</a></li>
<li class="chapter" data-level="11.2" data-path="aed-checa-dados.html"><a href="aed-checa-dados.html#colunas-com-fatores"><i class="fa fa-check"></i><b>11.2</b> Colunas com fatores</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="aed-univar.html"><a href="aed-univar.html"><i class="fa fa-check"></i><b>12</b> AED de univariadas</a><ul>
<li class="chapter" data-level="12.1" data-path="aed-univar.html"><a href="aed-univar.html#qual-a-distribuição-dos-valores-numéricos"><i class="fa fa-check"></i><b>12.1</b> Qual a distribuição dos valores numéricos?</a><ul>
<li class="chapter" data-level="12.1.1" data-path="aed-univar.html"><a href="aed-univar.html#dados-do-tutorial"><i class="fa fa-check"></i><b>12.1.1</b> Dados do tutorial</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="aed-univar.html"><a href="aed-univar.html#tabelas-de-variáveis-categóricas"><i class="fa fa-check"></i><b>12.2</b> Tabelas de variáveis categóricas</a><ul>
<li class="chapter" data-level="12.2.1" data-path="aed-univar.html"><a href="aed-univar.html#resumo-de-gráficos-univariados"><i class="fa fa-check"></i><b>12.2.1</b> Resumo de gráficos univariados</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="aed-univar.html"><a href="aed-univar.html#as-variáveis-têm-distribuição-normal"><i class="fa fa-check"></i><b>12.3</b> As variáveis têm distribuição normal?</a></li>
<li class="chapter" data-level="12.4" data-path="aed-univar.html"><a href="aed-univar.html#sabermais-aed-univariadas"><i class="fa fa-check"></i><b>12.4</b> Para saber mais:</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="aed-bivar.html"><a href="aed-bivar.html"><i class="fa fa-check"></i><b>13</b> AED de bivariadas</a><ul>
<li class="chapter" data-level="13.1" data-path="aed-bivar.html"><a href="aed-bivar.html#dados-do-tutorial-1"><i class="fa fa-check"></i><b>13.1</b> Dados do tutorial</a></li>
<li class="chapter" data-level="13.2" data-path="aed-bivar.html"><a href="aed-bivar.html#fatores-e-contagens"><i class="fa fa-check"></i><b>13.2</b> Fatores e contagens</a></li>
<li class="chapter" data-level="13.3" data-path="aed-bivar.html"><a href="aed-bivar.html#variável-numérica-vs.-fator"><i class="fa fa-check"></i><b>13.3</b> Variável numérica vs. fator</a></li>
<li class="chapter" data-level="13.4" data-path="aed-bivar.html"><a href="aed-bivar.html#variável-numérica-vs.-numérica"><i class="fa fa-check"></i><b>13.4</b> Variável numérica vs. numérica</a></li>
<li class="chapter" data-level="13.5" data-path="aed-bivar.html"><a href="aed-bivar.html#outros-gráficos-bivariados"><i class="fa fa-check"></i><b>13.5</b> Outros gráficos bivariados</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="aed-multivar.html"><a href="aed-multivar.html"><i class="fa fa-check"></i><b>14</b> AED de multivariadas</a><ul>
<li class="chapter" data-level="14.1" data-path="aed-multivar.html"><a href="aed-multivar.html#matrizes-de-distância"><i class="fa fa-check"></i><b>14.1</b> Matrizes de distância</a></li>
<li class="chapter" data-level="14.2" data-path="aed-multivar.html"><a href="aed-multivar.html#ordenação-com-matrizes-de-distância"><i class="fa fa-check"></i><b>14.2</b> Ordenação com matrizes de distância</a></li>
<li class="chapter" data-level="14.3" data-path="aed-multivar.html"><a href="aed-multivar.html#escalonamento-não-métrico-multimensional-nmds"><i class="fa fa-check"></i><b>14.3</b> Escalonamento Não-Métrico Multimensional (NMDS)</a><ul>
<li class="chapter" data-level="14.3.1" data-path="aed-multivar.html"><a href="aed-multivar.html#exemplo-com-dados-morfológicos"><i class="fa fa-check"></i><b>14.3.1</b> Exemplo com dados morfológicos</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="aed-multivar.html"><a href="aed-multivar.html#análises-de-agrupamento"><i class="fa fa-check"></i><b>14.4</b> Análises de agrupamento</a><ul>
<li class="chapter" data-level="14.4.1" data-path="aed-multivar.html"><a href="aed-multivar.html#agrupamento-pelo-método-da-mínima-variância"><i class="fa fa-check"></i><b>14.4.1</b> Agrupamento pelo método da mínima variância</a></li>
<li class="chapter" data-level="14.4.2" data-path="aed-multivar.html"><a href="aed-multivar.html#agrupamento-por-upgma"><i class="fa fa-check"></i><b>14.4.2</b> Agrupamento por UPGMA</a></li>
<li class="chapter" data-level="14.4.3" data-path="aed-multivar.html"><a href="aed-multivar.html#agrupamento-por-centróides"><i class="fa fa-check"></i><b>14.4.3</b> Agrupamento por centróides</a></li>
<li class="chapter" data-level="14.4.4" data-path="aed-multivar.html"><a href="aed-multivar.html#exemplo-florístico"><i class="fa fa-check"></i><b>14.4.4</b> Exemplo florístico</a></li>
<li class="chapter" data-level="14.4.5" data-path="aed-multivar.html"><a href="aed-multivar.html#análise-de-coordenadas-principais-pcoa"><i class="fa fa-check"></i><b>14.4.5</b> Análise de Coordenadas Principais (PCoA)</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="aed-multivar.html"><a href="aed-multivar.html#componentes-principais-pca"><i class="fa fa-check"></i><b>14.5</b> Componentes Principais (PCA)</a></li>
</ul></li>
<li class="appendix"><span><b>Apêndice</b></span></li>
<li class="chapter" data-level="A" data-path="base-tidyverse.html"><a href="base-tidyverse.html"><i class="fa fa-check"></i><b>A</b> Base R vs. Tidyverse</a><ul>
<li class="chapter" data-level="A.1" data-path="base-tidyverse.html"><a href="base-tidyverse.html#o-que-é-o-tidyverse"><i class="fa fa-check"></i><b>A.1</b> O que é o Tidyverse?</a><ul>
<li class="chapter" data-level="A.1.1" data-path="base-tidyverse.html"><a href="base-tidyverse.html#dplyr-e-ggplot2-símbolos-do-tidyverse"><i class="fa fa-check"></i><b>A.1.1</b> <code>dplyr</code> e <code>ggplot2</code>, símbolos do Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="base-tidyverse.html"><a href="base-tidyverse.html#usando-o-dplyr"><i class="fa fa-check"></i><b>A.2</b> Usando o <code>dplyr</code></a><ul>
<li class="chapter" data-level="A.2.1" data-path="base-tidyverse.html"><a href="base-tidyverse.html#selecionando-colunas-com-select"><i class="fa fa-check"></i><b>A.2.1</b> Selecionando colunas com <code>select()</code></a></li>
<li class="chapter" data-level="A.2.2" data-path="base-tidyverse.html"><a href="base-tidyverse.html#filtrando-dados-com-filter"><i class="fa fa-check"></i><b>A.2.2</b> Filtrando dados com <code>filter()</code></a></li>
<li class="chapter" data-level="A.2.3" data-path="base-tidyverse.html"><a href="base-tidyverse.html#destrinchando-as-funções-group_by-e-summarise"><i class="fa fa-check"></i><b>A.2.3</b> Destrinchando as funções <code>group_by</code> e <code>summarise</code></a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="base-tidyverse.html"><a href="base-tidyverse.html#o-operador-e-o-encadeamento-de-ações"><i class="fa fa-check"></i><b>A.3</b> O operador <code>%&gt;%</code> e o encadeamento de ações</a><ul>
<li class="chapter" data-level="A.3.1" data-path="base-tidyverse.html"><a href="base-tidyverse.html#com1"><i class="fa fa-check"></i><b>A.3.1</b> Conjunto de comandos 1</a></li>
<li class="chapter" data-level="A.3.2" data-path="base-tidyverse.html"><a href="base-tidyverse.html#com2"><i class="fa fa-check"></i><b>A.3.2</b> Conjunto de comandos 2</a></li>
<li class="chapter" data-level="A.3.3" data-path="base-tidyverse.html"><a href="base-tidyverse.html#pipe"><i class="fa fa-check"></i><b>A.3.3</b> Resumo do operador <code>%&gt;%</code>:</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="base-tidyverse.html"><a href="base-tidyverse.html#usando-o-ggplot2"><i class="fa fa-check"></i><b>A.4</b> Usando o <code>ggplot2</code></a></li>
<li class="chapter" data-level="A.5" data-path="base-tidyverse.html"><a href="base-tidyverse.html#dplyr-e-ggplot2-em-conjunto"><i class="fa fa-check"></i><b>A.5</b> <code>dplyr</code> e <code>ggplot2</code> em conjunto</a><ul>
<li class="chapter" data-level="A.5.1" data-path="base-tidyverse.html"><a href="base-tidyverse.html#gráfico-de-espalhamento"><i class="fa fa-check"></i><b>A.5.1</b> Gráfico de espalhamento</a></li>
<li class="chapter" data-level="A.5.2" data-path="base-tidyverse.html"><a href="base-tidyverse.html#diagrama-de-caixas"><i class="fa fa-check"></i><b>A.5.2</b> Diagrama de caixas</a></li>
<li class="chapter" data-level="A.5.3" data-path="base-tidyverse.html"><a href="base-tidyverse.html#histograma"><i class="fa fa-check"></i><b>A.5.3</b> Histograma</a></li>
</ul></li>
<li class="chapter" data-level="A.6" data-path="base-tidyverse.html"><a href="base-tidyverse.html#baser"><i class="fa fa-check"></i><b>A.6</b> Comparando o mesmo conjunto de ações entre <code>base</code> R e <code>dplyr</code></a><ul>
<li class="chapter" data-level="A.6.1" data-path="base-tidyverse.html"><a href="base-tidyverse.html#e-o-uso-do-operador-com-o-pacote-base"><i class="fa fa-check"></i><b>A.6.1</b> E o uso do operador <code>%&gt;%</code> com o pacote <code>base</code>?</a></li>
</ul></li>
<li class="chapter" data-level="A.7" data-path="base-tidyverse.html"><a href="base-tidyverse.html#tidyverse-um-resumo"><i class="fa fa-check"></i><b>A.7</b> Tidyverse, um resumo</a></li>
<li class="chapter" data-level="A.8" data-path="base-tidyverse.html"><a href="base-tidyverse.html#sabermais-tidyverse"><i class="fa fa-check"></i><b>A.8</b> Para saber mais:</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="unzip.html"><a href="unzip.html"><i class="fa fa-check"></i><b>B</b> Baixar e descomprimir um arquivo</a></li>
<li class="chapter" data-level="C" data-path="videos.html"><a href="videos.html"><i class="fa fa-check"></i><b>C</b> Aulas em vídeo</a><ul>
<li class="chapter" data-level="C.1" data-path="videos.html"><a href="videos.html#importando-e-exportando-dados"><i class="fa fa-check"></i><b>C.1</b> Importando e exportando dados</a></li>
<li class="chapter" data-level="C.2" data-path="videos.html"><a href="videos.html#criação-de-vetores-1"><i class="fa fa-check"></i><b>C.2</b> Criação de vetores</a></li>
<li class="chapter" data-level="C.3" data-path="videos.html"><a href="videos.html#classes-de-vetores-e-fatores"><i class="fa fa-check"></i><b>C.3</b> Classes de vetores e fatores</a></li>
<li class="chapter" data-level="C.4" data-path="videos.html"><a href="videos.html#sequências-numéricas-e-repetições-operações-e-funções-com-vetores"><i class="fa fa-check"></i><b>C.4</b> Sequências numéricas e repetições, operações e funções com vetores</a></li>
<li class="chapter" data-level="C.5" data-path="videos.html"><a href="videos.html#listas-1"><i class="fa fa-check"></i><b>C.5</b> Listas</a></li>
<li class="chapter" data-level="C.6" data-path="videos.html"><a href="videos.html#criando-matrizes-1"><i class="fa fa-check"></i><b>C.6</b> Criando matrizes</a></li>
<li class="chapter" data-level="C.7" data-path="videos.html"><a href="videos.html#criando-dataframes-e-operações-importantes-em-matrizes-e-dataframes"><i class="fa fa-check"></i><b>C.7</b> Criando dataframes, e operações importantes em matrizes e dataframes</a></li>
<li class="chapter" data-level="C.8" data-path="videos.html"><a href="videos.html#indexação-de-matrizes-e-dataframes"><i class="fa fa-check"></i><b>C.8</b> Indexação de matrizes e dataframes</a></li>
<li class="chapter" data-level="C.9" data-path="videos.html"><a href="videos.html#condicionais-1"><i class="fa fa-check"></i><b>C.9</b> Condicionais</a></li>
<li class="chapter" data-level="C.10" data-path="videos.html"><a href="videos.html#funções-da-família-apply"><i class="fa fa-check"></i><b>C.10</b> Funções da família <code>apply(")</code></a></li>
<li class="chapter" data-level="C.11" data-path="videos.html"><a href="videos.html#funções-de-manipulação-de-pasta-e-arquivos"><i class="fa fa-check"></i><b>C.11</b> Funções de manipulação de pasta e arquivos</a></li>
<li class="chapter" data-level="C.12" data-path="videos.html"><a href="videos.html#funções-de-manipulação-de-texto---parte-01"><i class="fa fa-check"></i><b>C.12</b> Funções de manipulação de texto - parte 01</a></li>
<li class="chapter" data-level="C.13" data-path="videos.html"><a href="videos.html#funções-de-manipulação-de-texto---parte-02"><i class="fa fa-check"></i><b>C.13</b> Funções de manipulação de texto - parte 02</a></li>
<li class="chapter" data-level="C.14" data-path="videos.html"><a href="videos.html#objetos-complexos"><i class="fa fa-check"></i><b>C.14</b> Objetos complexos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="referências.html"><a href="referências.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado com pacote R bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Curso básico de introdução à linguagem R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mat-dframe" class="section level1">
<h1><span class="header-section-number">3</span> Objeto II - Matrizes e <code>data.frames</code></h1>
<div id="matriz-vs.-data.frame" class="section level2">
<h2><span class="header-section-number">3.1</span> Matriz vs. <code>data.frame</code></h2>
<p>Objetos de classe <code>matrix</code> ou <code>data.frame</code> são objetos bidimensionais (tem linhas e colunas), e constituem a forma como nossos dados estão organizados.
Precisamos entender a diferença entre essas classes e suas propriedades.</p>
<p>Objetos de classe <code>matrix</code> contêm linhas e colunas, mas os valores de toda a matriz são da mesma classe (<code>numeric</code>, <code>character</code>, ou <code>logical</code>, por exemplo).
Operações matemáticas com matrizes utilizam matrizes numéricas, portanto, de uma única classe, <code>matrix</code>.</p>
<p>Objetos de classe <code>data.frame</code> tambêm contém linhas e colunas, mas podem misturar colunas de classes diferentes (<code>numeric</code> e <code>character</code>, <code>factor</code>, e <code>logical</code>, por exemplo).
Quando importamos dados ao R, geralmente atribuímos os dados a um objeto de classe <code>data.frame</code>.</p>
<p>Podemos converter um objeto de classe <code>matrix</code> para <code>data.frame</code> e vice-versa, usando as funções <code>as.data.frame()</code> ou <code>as.matrix()</code>.
Porém, quando convertemos os dados para um objeto de classe <code>matrix</code>, todos os dados passam a ser da mesma classe, geralmente havendo perda de dados.</p>
<div id="criando-matrizes" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Criando matrizes</h3>
<p>Poder criar uma matriz no R é muito útil para várias finalidades como, por exemplo, simular dados em testes de permutação ou preencher uma tabela com resultados de uma análise.
Matrizes podem ser criadas de diferentes formas (e.g., pode juntar matrizes pelas linhas e colunas, ou pode extrair sub-matrizes de uma matriz).
Para criar matrizes, a função básica se chama <code>matrix()</code>:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="mat-dframe.html#cb465-1"></a><span class="co"># veja o help da função</span></span>
<span id="cb465-2"><a href="mat-dframe.html#cb465-2"></a>?matrix</span>
<span id="cb465-3"><a href="mat-dframe.html#cb465-3"></a></span>
<span id="cb465-4"><a href="mat-dframe.html#cb465-4"></a><span class="co"># a função se usa assim: matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)</span></span>
<span id="cb465-5"><a href="mat-dframe.html#cb465-5"></a><span class="co"># onde:</span></span>
<span id="cb465-6"><a href="mat-dframe.html#cb465-6"></a><span class="co"># data = NA #um vetor de comprimento igual ao número de células desejadas que é nrow*ncol.</span></span>
<span id="cb465-7"><a href="mat-dframe.html#cb465-7"></a><span class="co"># byrow = FALSE #A forma de preenchimento da planilha pelos dados em data. Se byrow=TRUE, então ele preenche pelas linhas, senão pelas</span></span>
<span id="cb465-8"><a href="mat-dframe.html#cb465-8"></a><span class="co"># colunas</span></span>
<span id="cb465-9"><a href="mat-dframe.html#cb465-9"></a><span class="co"># nrow = número de linhas</span></span>
<span id="cb465-10"><a href="mat-dframe.html#cb465-10"></a><span class="co"># ncol = número de colunas</span></span>
<span id="cb465-11"><a href="mat-dframe.html#cb465-11"></a><span class="co"># dimnames = um objeto do tipo lista (que ainda não vimos), com dois vetores, um com os nomes das linhas, outro com os nomes das colunas.</span></span></code></pre></div>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="mat-dframe.html#cb466-1"></a><span class="co"># exemplo 1 - matriz de 3x3 com zeros</span></span>
<span id="cb466-2"><a href="mat-dframe.html#cb466-2"></a>mm &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">0</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> F, <span class="dt">dimnames =</span> <span class="ot">NULL</span>)</span>
<span id="cb466-3"><a href="mat-dframe.html#cb466-3"></a>mm</span></code></pre></div>
<table>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="mat-dframe.html#cb467-1"></a><span class="co"># note que data tem comprimento 1, apenas 1 valor. Pela regra da reciclagem ele é repetido até completar o total necessário dado por nrow*ncol</span></span>
<span id="cb467-2"><a href="mat-dframe.html#cb467-2"></a></span>
<span id="cb467-3"><a href="mat-dframe.html#cb467-3"></a><span class="co"># exemplo2 - matriz de 3x3 com valores</span></span>
<span id="cb467-4"><a href="mat-dframe.html#cb467-4"></a>dd &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span> <span class="co"># nove valores</span></span>
<span id="cb467-5"><a href="mat-dframe.html#cb467-5"></a>mm &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> dd, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> F, <span class="dt">dimnames =</span> <span class="ot">NULL</span>)</span>
<span id="cb467-6"><a href="mat-dframe.html#cb467-6"></a>mm</span></code></pre></div>
<table>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="mat-dframe.html#cb468-1"></a><span class="co"># mudando byrow para TRUE preenchemos pelas linhas</span></span>
<span id="cb468-2"><a href="mat-dframe.html#cb468-2"></a>mm2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> dd, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>, <span class="dt">dimnames =</span> <span class="ot">NULL</span>)</span>
<span id="cb468-3"><a href="mat-dframe.html#cb468-3"></a>mm2</span></code></pre></div>
<table>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="mat-dframe.html#cb469-1"></a><span class="co"># exemplo3 - matriz de 3x3 com valores e nomes de colunas e linhas</span></span>
<span id="cb469-2"><a href="mat-dframe.html#cb469-2"></a><span class="co"># define dimensao</span></span>
<span id="cb469-3"><a href="mat-dframe.html#cb469-3"></a>nrow &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb469-4"><a href="mat-dframe.html#cb469-4"></a>ncol &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb469-5"><a href="mat-dframe.html#cb469-5"></a><span class="co"># define data</span></span>
<span id="cb469-6"><a href="mat-dframe.html#cb469-6"></a>dd &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span> <span class="co"># nove valores</span></span>
<span id="cb469-7"><a href="mat-dframe.html#cb469-7"></a><span class="co"># define nome de colunas</span></span>
<span id="cb469-8"><a href="mat-dframe.html#cb469-8"></a>cln &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;coluna&quot;</span>, <span class="dv">1</span><span class="op">:</span>ncol, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb469-9"><a href="mat-dframe.html#cb469-9"></a><span class="co"># define nome de linhas</span></span>
<span id="cb469-10"><a href="mat-dframe.html#cb469-10"></a>lln &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;linha&quot;</span>, <span class="dv">1</span><span class="op">:</span>nrow, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb469-11"><a href="mat-dframe.html#cb469-11"></a></span>
<span id="cb469-12"><a href="mat-dframe.html#cb469-12"></a>mm &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> dd, <span class="dt">nrow =</span> nrow, <span class="dt">ncol =</span> ncol, <span class="dt">byrow =</span> F, <span class="dt">dimnames =</span> <span class="kw">list</span>(lln, cln))</span>
<span id="cb469-13"><a href="mat-dframe.html#cb469-13"></a>mm</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<p>Para unir ou criar matrizes (e <code>data.frames</code>) temos duas funções úteis:</p>
<ul>
<li><p><code>rbind()</code>, que vem do inglês <em>row bind</em>, ou seja, cole linhas;</p></li>
<li><p><code>cbind()</code>, que vem do inglês <em>column bind</em>, ou seja, cole colunas.</p></li>
</ul>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="mat-dframe.html#cb470-1"></a><span class="co"># vetores numéricos de mesmo comprimento</span></span>
<span id="cb470-2"><a href="mat-dframe.html#cb470-2"></a>v1 &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb470-3"><a href="mat-dframe.html#cb470-3"></a>v2 &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="dv">1</span></span>
<span id="cb470-4"><a href="mat-dframe.html#cb470-4"></a>v3 &lt;-<span class="st"> </span><span class="dv">11</span><span class="op">:</span><span class="dv">20</span></span>
<span id="cb470-5"><a href="mat-dframe.html#cb470-5"></a><span class="co"># essas duas condições devem ser verdadeiras</span></span>
<span id="cb470-6"><a href="mat-dframe.html#cb470-6"></a><span class="kw">length</span>(v1) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(v2)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="mat-dframe.html#cb472-1"></a><span class="kw">length</span>(v1) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(v3)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="mat-dframe.html#cb474-1"></a><span class="co"># entao posso criar uma matriz juntando esses vetores em linhas ou colunas</span></span>
<span id="cb474-2"><a href="mat-dframe.html#cb474-2"></a>mml &lt;-<span class="st"> </span><span class="kw">rbind</span>(v1, v2, v3)</span>
<span id="cb474-3"><a href="mat-dframe.html#cb474-3"></a><span class="kw">class</span>(mml) <span class="co"># criou um matrix</span></span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="mat-dframe.html#cb476-1"></a>mml</span></code></pre></div>
<table>
<tbody>
<tr>
<td style="text-align:left;">
v1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
v2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
v3
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
20
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="mat-dframe.html#cb477-1"></a><span class="co"># ou</span></span>
<span id="cb477-2"><a href="mat-dframe.html#cb477-2"></a>mmc &lt;-<span class="st"> </span><span class="kw">cbind</span>(v1, v2, v3)</span>
<span id="cb477-3"><a href="mat-dframe.html#cb477-3"></a><span class="kw">class</span>(mmc)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="mat-dframe.html#cb479-1"></a><span class="co"># ou se eu já tenho uma matriz, posso usar essas funções para adicionar novas linhas ou colunas</span></span>
<span id="cb479-2"><a href="mat-dframe.html#cb479-2"></a>novovetor &lt;-<span class="st"> </span><span class="dv">31</span><span class="op">:</span><span class="dv">40</span></span>
<span id="cb479-3"><a href="mat-dframe.html#cb479-3"></a></span>
<span id="cb479-4"><a href="mat-dframe.html#cb479-4"></a><span class="co"># por linha</span></span>
<span id="cb479-5"><a href="mat-dframe.html#cb479-5"></a><span class="kw">ncol</span>(mml) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(novovetor) <span class="co"># neste caso o número de colunas da matrix precisa ser igual ao número de elementos no vetor</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="mat-dframe.html#cb481-1"></a>mml &lt;-<span class="st"> </span><span class="kw">rbind</span>(mml, novovetor) <span class="co"># junto a matrix existente com o novo vetor, adicionando uma nova linha</span></span>
<span id="cb481-2"><a href="mat-dframe.html#cb481-2"></a>mml</span></code></pre></div>
<table>
<tbody>
<tr>
<td style="text-align:left;">
v1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
v2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
v3
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
novovetor
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
40
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="mat-dframe.html#cb482-1"></a><span class="co"># note que a nova linha recebeu como nome o nome do objeto que continha o dado</span></span>
<span id="cb482-2"><a href="mat-dframe.html#cb482-2"></a></span>
<span id="cb482-3"><a href="mat-dframe.html#cb482-3"></a><span class="co"># por coluna</span></span>
<span id="cb482-4"><a href="mat-dframe.html#cb482-4"></a><span class="kw">nrow</span>(mmc) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(novovetor) <span class="co"># neste caso o número de linhas da matrix precisa ser igual ao número de elementos no vetor</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="mat-dframe.html#cb484-1"></a>mmc &lt;-<span class="st"> </span><span class="kw">cbind</span>(mmc, novovetor) <span class="co"># junto a matrix existente com o novo vetor, adicionando uma nova coluna</span></span>
<span id="cb484-2"><a href="mat-dframe.html#cb484-2"></a>mmc</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
v1
</th>
<th style="text-align:right;">
v2
</th>
<th style="text-align:right;">
v3
</th>
<th style="text-align:right;">
novovetor
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
31
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
33
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
35
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
37
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
38
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
39
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
40
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="mat-dframe.html#cb485-1"></a><span class="co"># note que a nova coluna recebeu como nome o nome do objeto que continha o dado</span></span></code></pre></div>
</div>
<div id="criando-data.frames" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Criando <code>data.frames</code></h3>
<p>Objetos de classe <code>data.frame</code> são tabelas de dados, apresentam duas dimensões, e permitem misturar dados de classes diferentes, numéricos, texto (character ou factor) e lógicos.
Quando importamos nossos dados ao R, em geral criamos objetos de classe <code>data.frame</code>.
Para criar ou converter dados em data.frames, podemos usar as funções <code>data.frame()</code> e <code>as.data.frame()</code>.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="mat-dframe.html#cb486-1"></a>?data.frame <span class="co"># veja o help das funções acima</span></span></code></pre></div>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="mat-dframe.html#cb487-1"></a><span class="co"># a funcao que cria o objeto é</span></span>
<span id="cb487-2"><a href="mat-dframe.html#cb487-2"></a><span class="kw">data.frame</span>(..., <span class="dt">row.names =</span> <span class="ot">NULL</span>, <span class="dt">check.rows =</span> <span class="ot">FALSE</span>, <span class="dt">check.names =</span> <span class="ot">TRUE</span>, <span class="dt">stringsAsFactors =</span> <span class="kw">default.stringsAsFactors</span>())</span>
<span id="cb487-3"><a href="mat-dframe.html#cb487-3"></a></span>
<span id="cb487-4"><a href="mat-dframe.html#cb487-4"></a><span class="co"># de todos os argumentos os mais importantes são:</span></span>
<span id="cb487-5"><a href="mat-dframe.html#cb487-5"></a><span class="co"># ...  #que pode ser vetores ou tag = vetor (os dados da tabela)</span></span>
<span id="cb487-6"><a href="mat-dframe.html#cb487-6"></a><span class="co"># stringsAsFactors #que especifica se queremos os textos como vetores ou fatores</span></span></code></pre></div>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="mat-dframe.html#cb488-1"></a><span class="co"># exemplo 1 -</span></span>
<span id="cb488-2"><a href="mat-dframe.html#cb488-2"></a><span class="co"># Primeiro criamos alguns dados</span></span>
<span id="cb488-3"><a href="mat-dframe.html#cb488-3"></a><span class="co"># um vetor numerico</span></span>
<span id="cb488-4"><a href="mat-dframe.html#cb488-4"></a>v1 &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb488-5"><a href="mat-dframe.html#cb488-5"></a><span class="co"># um vetor de letras do mesmo comprimento usando a constante LETTERS</span></span>
<span id="cb488-6"><a href="mat-dframe.html#cb488-6"></a>v2 &lt;-<span class="st"> </span>LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</span>
<span id="cb488-7"><a href="mat-dframe.html#cb488-7"></a><span class="co"># um vetor de palavras de mesmo comprimento</span></span>
<span id="cb488-8"><a href="mat-dframe.html#cb488-8"></a>v3 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;fulano&quot;</span>, <span class="st">&quot;jose&quot;</span>, <span class="st">&quot;joaquim&quot;</span>, <span class="st">&quot;martin&quot;</span>), <span class="dt">length.out =</span> <span class="kw">length</span>(v1))</span>
<span id="cb488-9"><a href="mat-dframe.html#cb488-9"></a></span>
<span id="cb488-10"><a href="mat-dframe.html#cb488-10"></a><span class="co"># Juntamos num data.frame com fatores</span></span>
<span id="cb488-11"><a href="mat-dframe.html#cb488-11"></a>dd &lt;-<span class="st"> </span><span class="kw">data.frame</span>(v1, v2, v3, <span class="dt">stringsAsFactors =</span> T)</span>
<span id="cb488-12"><a href="mat-dframe.html#cb488-12"></a><span class="kw">class</span>(dd) <span class="co"># é um data frame</span></span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="mat-dframe.html#cb490-1"></a><span class="kw">dim</span>(dd) <span class="co"># dimensoes, linhas e colunas</span></span></code></pre></div>
<pre><code>## [1] 10  3</code></pre>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="mat-dframe.html#cb492-1"></a><span class="kw">ncol</span>(dd) <span class="co"># numero de colunas</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="mat-dframe.html#cb494-1"></a><span class="kw">nrow</span>(dd) <span class="co"># numero de linhas</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="mat-dframe.html#cb496-1"></a><span class="kw">str</span>(dd) <span class="co"># estrutura do objeto (veja as classes das colunas)</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ v1: int  1 2 3 4 5 6 7 8 9 10
##  $ v2: Factor w/ 10 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,..: 1 2 3 4 5 6 7 8 9 10
##  $ v3: Factor w/ 4 levels &quot;fulano&quot;,&quot;joaquim&quot;,..: 1 3 2 4 1 3 2 4 1 3</code></pre>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="mat-dframe.html#cb498-1"></a><span class="co"># JUNTAMOS SEM FATORES</span></span>
<span id="cb498-2"><a href="mat-dframe.html#cb498-2"></a>dd2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(v1, v2, v3, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span>
<span id="cb498-3"><a href="mat-dframe.html#cb498-3"></a><span class="kw">class</span>(dd2) <span class="co"># é um data frame</span></span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="mat-dframe.html#cb500-1"></a><span class="kw">str</span>(dd2) <span class="co"># estrutura do objeto (veja as classes das colunas)</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ v1: int  1 2 3 4 5 6 7 8 9 10
##  $ v2: chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...
##  $ v3: chr  &quot;fulano&quot; &quot;jose&quot; &quot;joaquim&quot; &quot;martin&quot; ...</code></pre>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="mat-dframe.html#cb502-1"></a><span class="co"># juntamos com nome de colunas (tag = vetor)</span></span>
<span id="cb502-2"><a href="mat-dframe.html#cb502-2"></a>dd2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">RegistorID =</span> v1, <span class="dt">CodigoZ =</span> v2, <span class="dt">Pessoa =</span> v3, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span>
<span id="cb502-3"><a href="mat-dframe.html#cb502-3"></a>dd2</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
RegistorID
</th>
<th style="text-align:left;">
CodigoZ
</th>
<th style="text-align:left;">
Pessoa
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
jose
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
joaquim
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
D
</td>
<td style="text-align:left;">
martin
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:left;">
jose
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
G
</td>
<td style="text-align:left;">
joaquim
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
H
</td>
<td style="text-align:left;">
martin
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
I
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
J
</td>
<td style="text-align:left;">
jose
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="mat-dframe.html#cb503-1"></a><span class="co"># agora vamos usar o cbind que vimos acima</span></span>
<span id="cb503-2"><a href="mat-dframe.html#cb503-2"></a>dz &lt;-<span class="st"> </span><span class="kw">cbind</span>(v1, v2, v3)</span>
<span id="cb503-3"><a href="mat-dframe.html#cb503-3"></a><span class="co"># ou entao usando tag=vetor para ter nomes das colunas de acordo</span></span>
<span id="cb503-4"><a href="mat-dframe.html#cb503-4"></a>dz &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="dt">RegistorID =</span> v1, <span class="dt">CodigoZ =</span> v2, <span class="dt">Pessoa =</span> v3)</span>
<span id="cb503-5"><a href="mat-dframe.html#cb503-5"></a><span class="kw">class</span>(dz) <span class="co"># isso cria uma matriz</span></span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="mat-dframe.html#cb505-1"></a><span class="kw">str</span>(dz) <span class="co"># todos os dados são da mesma classe (texto)</span></span></code></pre></div>
<pre><code>##  chr [1:10, 1:3] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot; &quot;10&quot; &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : NULL
##   ..$ : chr [1:3] &quot;RegistorID&quot; &quot;CodigoZ&quot; &quot;Pessoa&quot;</code></pre>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="mat-dframe.html#cb507-1"></a>dz &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(dz) <span class="co"># convertemos num data.frame</span></span>
<span id="cb507-2"><a href="mat-dframe.html#cb507-2"></a><span class="kw">class</span>(dz) <span class="co"># é um data.frame</span></span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="mat-dframe.html#cb509-1"></a><span class="kw">str</span>(dz) <span class="co"># converte numeros para numerico e texto para fator</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ RegistorID: chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ CodigoZ   : chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...
##  $ Pessoa    : chr  &quot;fulano&quot; &quot;jose&quot; &quot;joaquim&quot; &quot;martin&quot; ...</code></pre>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="mat-dframe.html#cb511-1"></a>dz &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">as.matrix</span>(dz), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>) <span class="co"># convertemos num data.frame sem fatores</span></span>
<span id="cb511-2"><a href="mat-dframe.html#cb511-2"></a><span class="kw">str</span>(dz) <span class="co"># converte numeros para numerico e texto para character</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ RegistorID: chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ CodigoZ   : chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...
##  $ Pessoa    : chr  &quot;fulano&quot; &quot;jose&quot; &quot;joaquim&quot; &quot;martin&quot; ...</code></pre>
</div>
<div id="funções-importantes-na-manipulação-de-matrizes-e-data.frames" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Funções importantes na manipulação de matrizes e <code>data.frames</code></h3>
<p>As funções <code>head()</code> e <code>tail()</code> mostram o cabeçalho e rodapé tanto para matrizes como para <code>data.frames</code>, respectivamente.
Vejam o <code>?</code> dessas duas funções:</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="mat-dframe.html#cb513-1"></a>?head</span>
<span id="cb513-2"><a href="mat-dframe.html#cb513-2"></a>?tail</span></code></pre></div>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb514-1"><a href="mat-dframe.html#cb514-1"></a><span class="co"># Primeiro criamos alguns dados</span></span>
<span id="cb514-2"><a href="mat-dframe.html#cb514-2"></a><span class="co"># um vetor numerico</span></span>
<span id="cb514-3"><a href="mat-dframe.html#cb514-3"></a>v1 &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb514-4"><a href="mat-dframe.html#cb514-4"></a><span class="co"># um vetor de letras do mesmo comprimento usando a constante LETTERS</span></span>
<span id="cb514-5"><a href="mat-dframe.html#cb514-5"></a>v2 &lt;-<span class="st"> </span>LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</span>
<span id="cb514-6"><a href="mat-dframe.html#cb514-6"></a><span class="co"># um vetor de palavras de mesmo comprimento</span></span>
<span id="cb514-7"><a href="mat-dframe.html#cb514-7"></a>v3 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;fulano&quot;</span>, <span class="st">&quot;jose&quot;</span>, <span class="st">&quot;joaquim&quot;</span>, <span class="st">&quot;martin&quot;</span>), <span class="dt">length.out =</span> <span class="kw">length</span>(v1))</span>
<span id="cb514-8"><a href="mat-dframe.html#cb514-8"></a><span class="co"># juntamos com nome de colunas (tag = vetor) e com</span></span>
<span id="cb514-9"><a href="mat-dframe.html#cb514-9"></a>dd2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">RegistorID =</span> v1, <span class="dt">CodigoZ =</span> v2, <span class="dt">Pessoa =</span> v3, <span class="dt">stringsAsFactors =</span> <span class="ot">TRUE</span>)</span>
<span id="cb514-10"><a href="mat-dframe.html#cb514-10"></a><span class="co"># cabeçalho</span></span>
<span id="cb514-11"><a href="mat-dframe.html#cb514-11"></a><span class="kw">head</span>(dd2) <span class="co"># primeiras 6 linhas</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
RegistorID
</th>
<th style="text-align:left;">
CodigoZ
</th>
<th style="text-align:left;">
Pessoa
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
jose
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
joaquim
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
D
</td>
<td style="text-align:left;">
martin
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:left;">
jose
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="mat-dframe.html#cb515-1"></a><span class="kw">head</span>(dd2, <span class="dv">3</span>) <span class="co"># três primeiras linhas</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
RegistorID
</th>
<th style="text-align:left;">
CodigoZ
</th>
<th style="text-align:left;">
Pessoa
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
jose
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
joaquim
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb516"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb516-1"><a href="mat-dframe.html#cb516-1"></a><span class="co"># rodapé</span></span>
<span id="cb516-2"><a href="mat-dframe.html#cb516-2"></a><span class="kw">tail</span>(dd2) <span class="co"># seis últimas linhas</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
RegistorID
</th>
<th style="text-align:left;">
CodigoZ
</th>
<th style="text-align:left;">
Pessoa
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:left;">
jose
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
G
</td>
<td style="text-align:left;">
joaquim
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
H
</td>
<td style="text-align:left;">
martin
</td>
</tr>
<tr>
<td style="text-align:left;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
I
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
J
</td>
<td style="text-align:left;">
jose
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="mat-dframe.html#cb517-1"></a><span class="kw">tail</span>(dd2, <span class="dv">3</span>) <span class="co"># três últimas linhas</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
RegistorID
</th>
<th style="text-align:left;">
CodigoZ
</th>
<th style="text-align:left;">
Pessoa
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
H
</td>
<td style="text-align:left;">
martin
</td>
</tr>
<tr>
<td style="text-align:left;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
I
</td>
<td style="text-align:left;">
fulano
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
J
</td>
<td style="text-align:left;">
jose
</td>
</tr>
</tbody>
</table>
<p>As funções <code>dim()</code>, <code>nrow()</code> e <code>ncol()</code> informam as dimensões de matrizes e data.frames, número de linhas, e número de colunas, respectivamente.</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb518-1"><a href="mat-dframe.html#cb518-1"></a><span class="kw">dim</span>(dd2) <span class="co"># vetor com dois valores, número de linhas e número de colunas</span></span></code></pre></div>
<pre><code>## [1] 10  3</code></pre>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb520-1"><a href="mat-dframe.html#cb520-1"></a><span class="kw">nrow</span>(dd2) <span class="co"># número de linhas do data.frame ou matrix</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb522-1"><a href="mat-dframe.html#cb522-1"></a><span class="kw">ncol</span>(dd2) <span class="co"># número de colunas do data.frame ou matrix</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb524-1"><a href="mat-dframe.html#cb524-1"></a><span class="kw">nrow</span>(<span class="kw">as.matrix</span>(dd2))</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb526-1"><a href="mat-dframe.html#cb526-1"></a><span class="kw">ncol</span>(<span class="kw">as.matrix</span>(dd2))</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>As funções <code>str()</code> e <code>summary()</code> informam a estrutura dos <code>data.frames</code> e o resumo dos dados, respectivamente.</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb528-1"><a href="mat-dframe.html#cb528-1"></a><span class="kw">str</span>(dd2) <span class="co"># mostra a estrutura do objeto, quais colunas, classes de colunas e total de valores</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ RegistorID: int  1 2 3 4 5 6 7 8 9 10
##  $ CodigoZ   : Factor w/ 10 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,..: 1 2 3 4 5 6 7 8 9 10
##  $ Pessoa    : Factor w/ 4 levels &quot;fulano&quot;,&quot;joaquim&quot;,..: 1 3 2 4 1 3 2 4 1 3</code></pre>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb530-1"><a href="mat-dframe.html#cb530-1"></a><span class="kw">summary</span>(dd2) <span class="co"># mostra para cada coluna a variação encontrada: estatística descritiva de variáveis numéricas, contagem por categoria de fatores, etc. Veremos isso adiante.</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
RegistorID
</th>
<th style="text-align:left;">
CodigoZ
</th>
<th style="text-align:left;">
Pessoa
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Min. : 1.00
</td>
<td style="text-align:left;">
A :1
</td>
<td style="text-align:left;">
fulano :3
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
1st Qu.: 3.25
</td>
<td style="text-align:left;">
B :1
</td>
<td style="text-align:left;">
joaquim:2
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Median : 5.50
</td>
<td style="text-align:left;">
C :1
</td>
<td style="text-align:left;">
jose :3
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Mean : 5.50
</td>
<td style="text-align:left;">
D :1
</td>
<td style="text-align:left;">
martin :2
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
3rd Qu.: 7.75
</td>
<td style="text-align:left;">
E :1
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Max. :10.00
</td>
<td style="text-align:left;">
F :1
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
(Other):4
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>As funções <code>colnames()</code> e <code>rownames()</code> permitem VER e ATRIBUIR valores de nomes de linhas e colunas em data.frames e matrizes.
Em um <code>data.frame</code>, os nomes de linhas DEVEM SER ÚNICOS e não podem ter duas linhas com o mesmo nome.
São códigos que identificam registros únicos.
Isso é muito importante para o entendimento dos identificadores dos seus dados.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="mat-dframe.html#cb531-1"></a><span class="co"># vamos criar uma matriz com nomes de linhas e colunas</span></span>
<span id="cb531-2"><a href="mat-dframe.html#cb531-2"></a>mm &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="kw">paste</span>(<span class="st">&quot;linha&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="kw">paste</span>(<span class="st">&quot;coluna&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))</span>
<span id="cb531-3"><a href="mat-dframe.html#cb531-3"></a><span class="co"># e converter essa matrix para um data.frame</span></span>
<span id="cb531-4"><a href="mat-dframe.html#cb531-4"></a>dd &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(mm)</span>
<span id="cb531-5"><a href="mat-dframe.html#cb531-5"></a></span>
<span id="cb531-6"><a href="mat-dframe.html#cb531-6"></a><span class="co"># vamos também criar outra matriz SEM nomes de linhas e colunas</span></span>
<span id="cb531-7"><a href="mat-dframe.html#cb531-7"></a>mm2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb531-8"><a href="mat-dframe.html#cb531-8"></a><span class="co"># e converter essa matrix para um data.frame</span></span>
<span id="cb531-9"><a href="mat-dframe.html#cb531-9"></a>dd2 &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(mm2)</span>
<span id="cb531-10"><a href="mat-dframe.html#cb531-10"></a></span>
<span id="cb531-11"><a href="mat-dframe.html#cb531-11"></a><span class="co"># para os objetos com nomes podemos ver os nomes</span></span>
<span id="cb531-12"><a href="mat-dframe.html#cb531-12"></a><span class="kw">rownames</span>(mm)</span></code></pre></div>
<pre><code>## [1] &quot;linha1&quot; &quot;linha2&quot; &quot;linha3&quot;</code></pre>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="mat-dframe.html#cb533-1"></a><span class="kw">rownames</span>(dd)</span></code></pre></div>
<pre><code>## [1] &quot;linha1&quot; &quot;linha2&quot; &quot;linha3&quot;</code></pre>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="mat-dframe.html#cb535-1"></a><span class="kw">colnames</span>(mm)</span></code></pre></div>
<pre><code>## [1] &quot;coluna1&quot; &quot;coluna2&quot; &quot;coluna3&quot;</code></pre>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="mat-dframe.html#cb537-1"></a><span class="kw">colnames</span>(dd)</span></code></pre></div>
<pre><code>## [1] &quot;coluna1&quot; &quot;coluna2&quot; &quot;coluna3&quot;</code></pre>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="mat-dframe.html#cb539-1"></a><span class="co"># para os objetos sem nomes</span></span>
<span id="cb539-2"><a href="mat-dframe.html#cb539-2"></a><span class="kw">rownames</span>(mm2) <span class="co"># nulo, não tem nome</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="mat-dframe.html#cb541-1"></a><span class="kw">rownames</span>(dd2) <span class="co"># números em formato de texto</span></span></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="mat-dframe.html#cb543-1"></a><span class="kw">colnames</span>(mm2) <span class="co"># nulo, não tem nome</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="mat-dframe.html#cb545-1"></a><span class="kw">colnames</span>(dd2) <span class="co"># V1 a Vncol(dd) - ele cria nomes das colunas</span></span></code></pre></div>
<pre><code>## [1] &quot;V1&quot; &quot;V2&quot; &quot;V3&quot;</code></pre>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="mat-dframe.html#cb547-1"></a><span class="co"># note que no caso do data.frame dd2, apesar de não ter nome de linha e coluna, o R criou uma para ele. DATA.FRAMES SEMPRE TEM NOME DE LINHAS E COLUNAS. Note que o nome das linhas apesar de números correspondentes aos índices, são de fato TEXTO</span></span>
<span id="cb547-2"><a href="mat-dframe.html#cb547-2"></a></span>
<span id="cb547-3"><a href="mat-dframe.html#cb547-3"></a></span>
<span id="cb547-4"><a href="mat-dframe.html#cb547-4"></a><span class="co"># essas funções permitem VER mas também permitem ATRIBUIR (modificar) nomes</span></span>
<span id="cb547-5"><a href="mat-dframe.html#cb547-5"></a><span class="co"># modificando quem já tem nome (matriz, mas funciona igual para dd)</span></span>
<span id="cb547-6"><a href="mat-dframe.html#cb547-6"></a><span class="kw">colnames</span>(mm) <span class="co"># nomes atuais</span></span></code></pre></div>
<pre><code>## [1] &quot;coluna1&quot; &quot;coluna2&quot; &quot;coluna3&quot;</code></pre>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="mat-dframe.html#cb549-1"></a><span class="kw">colnames</span>(mm) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;novonome1&quot;</span>, <span class="st">&quot;novonome2&quot;</span>, <span class="st">&quot;novonome3&quot;</span>)</span>
<span id="cb549-2"><a href="mat-dframe.html#cb549-2"></a>mm <span class="co"># veja como o nome das colunas mudou</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
novonome1
</th>
<th style="text-align:right;">
novonome2
</th>
<th style="text-align:right;">
novonome3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="mat-dframe.html#cb550-1"></a><span class="co"># mudando apenas o nome da coluna2</span></span>
<span id="cb550-2"><a href="mat-dframe.html#cb550-2"></a><span class="kw">colnames</span>(mm)[<span class="dv">2</span>] &lt;-<span class="st"> &quot;colunaDOIS&quot;</span></span>
<span id="cb550-3"><a href="mat-dframe.html#cb550-3"></a><span class="kw">colnames</span>(mm) <span class="co"># nomes atuais</span></span></code></pre></div>
<pre><code>## [1] &quot;novonome1&quot;  &quot;colunaDOIS&quot; &quot;novonome3&quot;</code></pre>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="mat-dframe.html#cb552-1"></a><span class="co"># atribuindo quando não tem nome</span></span>
<span id="cb552-2"><a href="mat-dframe.html#cb552-2"></a><span class="kw">colnames</span>(mm2) <span class="co"># está vazio ou não existe (NULL)</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="mat-dframe.html#cb554-1"></a><span class="kw">colnames</span>(mm2) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;banana&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(mm2), <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb554-2"><a href="mat-dframe.html#cb554-2"></a>mm2 <span class="co"># agora tem nome de coluna</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
banana-1
</th>
<th style="text-align:right;">
banana-2
</th>
<th style="text-align:right;">
banana-3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="mat-dframe.html#cb555-1"></a><span class="kw">rownames</span>(mm2) <span class="co"># nomes de linhas também está vazio</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="mat-dframe.html#cb557-1"></a><span class="kw">rownames</span>(mm2) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;chuchu&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(mm2), <span class="dt">sep =</span> <span class="st">&quot;.&quot;</span>)</span>
<span id="cb557-2"><a href="mat-dframe.html#cb557-2"></a>mm2 <span class="co"># agora tem nomes de linha e coluna</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
banana-1
</th>
<th style="text-align:right;">
banana-2
</th>
<th style="text-align:right;">
banana-3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
chuchu.1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
chuchu.2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
chuchu.3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<p>Vamos tentar atribuir um mesmo nome de linha <code>teste1</code> a duas linhas de nossa matriz <code>mm2</code> e ver o que acontece:</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="mat-dframe.html#cb558-1"></a><span class="kw">rownames</span>(mm2)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] &lt;-<span class="st"> &quot;teste1&quot;</span> <span class="co"># coloque o nome teste1 para as linhas 1 e 2 FUNCIONA PARA MATRIX</span></span></code></pre></div>
<p>Reparem que um mesmo nome de linha pode ser utilizado em mais de uma linha de uma matriz. Será que isso pode ser feito em um <code>data.frame</code>? Vejamos:</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="mat-dframe.html#cb559-1"></a><span class="kw">rownames</span>(dd)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] &lt;-<span class="st"> &quot;teste1&quot;</span> <span class="co"># nao funciona, porque ele não aceita nomes repetidos de linhas em DATA.FRAMES</span></span></code></pre></div>
</div>
</div>
<div id="indexação-de-matriz-e-data.frame" class="section level2">
<h2><span class="header-section-number">3.2</span> Indexação de matriz e <code>data.frame</code></h2>
<p>Entender indexação é fundamental para manipular dados no R.
Em indexação de vetores (seção <a href="vetores.html#indexacao">2.5</a>), vimos que é possível usar números, códigos/nomes ou valores de verdadeiro ou falso (lógico), como elementos para visualizar, filtrar e mudar dados em vetores unidimensionais.</p>
<p>O mesmo operador, <code>[]</code>, pode ser usado para indexação de uma matriz ou um <code>data.frame</code>.
A única diferença é que, por matrizes e <code>data.frames</code> serem bidimensionais, precisamos indicar a qual dimensão estamos nos referindo.
Portanto o operador de indexação para matrizes e data.frame tem a seguinte estrutura, <code>[indiceDeLinha , indiceDeColuna]</code>, em que a vírgula separa os índices de linha e coluna.</p>
<div id="matrizes" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Matrizes</h3>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="mat-dframe.html#cb560-1"></a><span class="co"># vamos criar uma matriz</span></span>
<span id="cb560-2"><a href="mat-dframe.html#cb560-2"></a>mm &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="kw">paste</span>(<span class="st">&quot;linha&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="kw">paste</span>(<span class="st">&quot;coluna&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))</span>
<span id="cb560-3"><a href="mat-dframe.html#cb560-3"></a><span class="co"># veja a matriz criada</span></span>
<span id="cb560-4"><a href="mat-dframe.html#cb560-4"></a>mm</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="mat-dframe.html#cb561-1"></a><span class="co"># USANDO INDICE NUMÉRICO</span></span>
<span id="cb561-2"><a href="mat-dframe.html#cb561-2"></a>mm[<span class="dv">1</span>, <span class="dv">2</span>] <span class="co"># mostra o elemento da linha 1 e coluna 2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="mat-dframe.html#cb563-1"></a>mm[<span class="dv">1</span>, <span class="kw">ncol</span>(mm)] <span class="co"># mostra o elemento da linha 1 e última coluna</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="mat-dframe.html#cb565-1"></a>mm[<span class="kw">nrow</span>(mm), <span class="kw">ncol</span>(mm)] <span class="co"># mostra o elemento da última linha e última coluna</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb567-1"><a href="mat-dframe.html#cb567-1"></a>mm[, <span class="dv">1</span>] <span class="co"># mostra a coluna 1</span></span></code></pre></div>
<pre><code>## linha1 linha2 linha3 
##      1      2      3</code></pre>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="mat-dframe.html#cb569-1"></a><span class="co"># eu posso juntar indices de matrizes e vetores na mesma linha</span></span>
<span id="cb569-2"><a href="mat-dframe.html#cb569-2"></a>mm[, <span class="dv">1</span>][<span class="dv">2</span>] <span class="co"># mostra o segundo elemento do vetor correspondente a primeira coluna</span></span></code></pre></div>
<pre><code>## linha2 
##      2</code></pre>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="mat-dframe.html#cb571-1"></a>mm[<span class="dv">1</span>, ] <span class="co"># mostra a linha 1</span></span></code></pre></div>
<pre><code>## coluna1 coluna2 coluna3 
##       1       4       7</code></pre>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="mat-dframe.html#cb573-1"></a>mm[<span class="kw">nrow</span>(mm), ] <span class="co"># mostra a ultima linha</span></span></code></pre></div>
<pre><code>## coluna1 coluna2 coluna3 
##       3       6       9</code></pre>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="mat-dframe.html#cb575-1"></a>mm[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="co"># mostra as duas primeiras colunas</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="mat-dframe.html#cb576-1"></a>mm[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co"># mostra as duas primeiras linhas e duas primeiras colunas</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="mat-dframe.html#cb577-1"></a>mm[<span class="dv">3</span><span class="op">:</span><span class="kw">nrow</span>(mm), ] <span class="co"># mostra da linha tres a ultima linha</span></span></code></pre></div>
<pre><code>## coluna1 coluna2 coluna3 
##       3       6       9</code></pre>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="mat-dframe.html#cb579-1"></a>mm[<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)] <span class="co"># mostra as linhas 3 e 1 e colunas 3 e 2 (nessa ordem)</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna3
</th>
<th style="text-align:right;">
coluna2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
4
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="mat-dframe.html#cb580-1"></a><span class="co"># USANDO INDICES DE NOMES</span></span>
<span id="cb580-2"><a href="mat-dframe.html#cb580-2"></a>mm[<span class="st">&quot;linha1&quot;</span>, ] <span class="co"># mostra a linha 1 - note que poderia ser outro nome, poderia ter chamado no inicio do script a linha 1 de &quot;banana&quot;</span></span></code></pre></div>
<pre><code>## coluna1 coluna2 coluna3 
##       1       4       7</code></pre>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="mat-dframe.html#cb582-1"></a>mm[, <span class="st">&quot;coluna1&quot;</span>] <span class="co"># mostra a coluna 1</span></span></code></pre></div>
<pre><code>## linha1 linha2 linha3 
##      1      2      3</code></pre>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="mat-dframe.html#cb584-1"></a>mm[<span class="kw">c</span>(<span class="st">&quot;linha3&quot;</span>, <span class="st">&quot;linha1&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;coluna3&quot;</span>, <span class="st">&quot;coluna1&quot;</span>)] <span class="co"># mostra a linhas 3 e 1 e colunas 3 e 1. </span><span class="al">NOTE</span><span class="co"> QUE POSSO ASSIM INVERTER AS COLUNAS E LINHAS</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna3
</th>
<th style="text-align:right;">
coluna1
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="mat-dframe.html#cb585-1"></a><span class="co"># SE EU POSSO VER EU POSSO MUDAR</span></span>
<span id="cb585-2"><a href="mat-dframe.html#cb585-2"></a>mm</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="mat-dframe.html#cb586-1"></a>mm[<span class="dv">1</span>, <span class="dv">3</span>] <span class="co"># elemento da linha 1 coluna 3</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="mat-dframe.html#cb588-1"></a>mm[<span class="dv">1</span>, <span class="dv">3</span>] &lt;-<span class="st"> </span><span class="dv">33</span> <span class="co"># mudei o elemento</span></span>
<span id="cb588-2"><a href="mat-dframe.html#cb588-2"></a>mm[<span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## coluna2 coluna3 
##       5       8</code></pre>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="mat-dframe.html#cb590-1"></a>mm[<span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>] &lt;-<span class="st"> </span>mm[<span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>] <span class="op">*</span><span class="st"> </span><span class="dv">10</span> <span class="co"># mudei os valores das colunas 2 e 3 para a linha 2, multiplicando o original por 10</span></span>
<span id="cb590-2"><a href="mat-dframe.html#cb590-2"></a>mm[<span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## coluna2 coluna3 
##      50      80</code></pre>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="mat-dframe.html#cb592-1"></a>mm</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
33
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
</div>
<div id="data.frame" class="section level3">
<h3><span class="header-section-number">3.2.2</span> <code>data.frame</code></h3>
<p>O operador <code>[indiceDeLinha , indiceDeColuna]</code> também funciona para <code>data.frames</code>.
Outro operador útil na manipulação de <code>data.frames</code> é o <code>$</code>.
Ele permite a visualização e atribuição de valores a qualquer coluna.</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="mat-dframe.html#cb593-1"></a><span class="co"># vamos criar uma matriz com nomes de linhas e colunas</span></span>
<span id="cb593-2"><a href="mat-dframe.html#cb593-2"></a>mm &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="kw">paste</span>(<span class="st">&quot;linha&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="kw">paste</span>(<span class="st">&quot;coluna&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)))</span>
<span id="cb593-3"><a href="mat-dframe.html#cb593-3"></a><span class="co"># veja a matriz criada</span></span>
<span id="cb593-4"><a href="mat-dframe.html#cb593-4"></a>mm</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="mat-dframe.html#cb594-1"></a><span class="co"># convertemos para um data.frame</span></span>
<span id="cb594-2"><a href="mat-dframe.html#cb594-2"></a>dd &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(mm)</span>
<span id="cb594-3"><a href="mat-dframe.html#cb594-3"></a>dd<span class="op">$</span>coluna1 <span class="co"># pego a coluna 1 (note que o nome da coluna vai sem &quot;aspas&quot;)</span></span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>Veja que o uso do operador <code>$</code> não funciona em matrizes:</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="mat-dframe.html#cb596-1"></a>mm<span class="op">$</span>coluna1 <span class="co"># veja como não funciona para o objeto matrix</span></span></code></pre></div>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="mat-dframe.html#cb597-1"></a>dd<span class="op">$</span>coluna1[<span class="dv">2</span>] <span class="co"># vejo o segundo elemento da coluna1</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="mat-dframe.html#cb599-1"></a><span class="co"># isso é o mesmo que</span></span>
<span id="cb599-2"><a href="mat-dframe.html#cb599-2"></a>dd[<span class="dv">2</span>, <span class="st">&quot;coluna1&quot;</span>]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="mat-dframe.html#cb601-1"></a><span class="co"># se eu vejo eu posso mudar</span></span>
<span id="cb601-2"><a href="mat-dframe.html#cb601-2"></a>dd[<span class="dv">2</span>, <span class="st">&quot;coluna1&quot;</span>] &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb601-3"><a href="mat-dframe.html#cb601-3"></a>dd<span class="op">$</span>coluna1[<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="dv">20</span></span>
<span id="cb601-4"><a href="mat-dframe.html#cb601-4"></a>dd<span class="op">$</span>coluna3 <span class="co"># pego a coluna tres</span></span></code></pre></div>
<pre><code>## [1] 7 8 9</code></pre>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="mat-dframe.html#cb603-1"></a><span class="co"># também posso adicionar uma nova coluna</span></span>
<span id="cb603-2"><a href="mat-dframe.html#cb603-2"></a>dd<span class="op">$</span>novacoluna &lt;-<span class="st"> </span>LETTERS[<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(dd)]</span>
<span id="cb603-3"><a href="mat-dframe.html#cb603-3"></a>dd <span class="co"># agora tenho uma nova coluna</span></span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
<th style="text-align:left;">
novacoluna
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
A
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
C
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="mat-dframe.html#cb604-1"></a><span class="co"># ou poderia usar outra forma</span></span>
<span id="cb604-2"><a href="mat-dframe.html#cb604-2"></a>dd[, <span class="st">&quot;nova2&quot;</span>] &lt;-<span class="st"> </span>LETTERS <span class="co"># nao vai funcionar por estou atribuindo um vetor muito mais longo do que tenho linhas</span></span></code></pre></div>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="mat-dframe.html#cb605-1"></a><span class="kw">length</span>(LETTERS) <span class="op">&gt;</span><span class="st"> </span><span class="kw">nrow</span>(dd) <span class="co"># essa expressão é verdadeira</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="mat-dframe.html#cb607-1"></a>dd[, <span class="st">&quot;nova2&quot;</span>] &lt;-<span class="st"> </span>LETTERS[<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(dd)] <span class="co"># isso tem o mesmo comprimento e funciona</span></span>
<span id="cb607-2"><a href="mat-dframe.html#cb607-2"></a>dd</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
<th style="text-align:left;">
novacoluna
</th>
<th style="text-align:left;">
nova2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
A
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
C
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="mat-dframe.html#cb608-1"></a><span class="co"># posso adicionar uma coluna vazia</span></span>
<span id="cb608-2"><a href="mat-dframe.html#cb608-2"></a>dd<span class="op">$</span>outracoluna &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb608-3"><a href="mat-dframe.html#cb608-3"></a>dd</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
<th style="text-align:left;">
novacoluna
</th>
<th style="text-align:left;">
nova2
</th>
<th style="text-align:left;">
outracoluna
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="mat-dframe.html#cb609-1"></a><span class="co"># e ainda outra (lógica)</span></span>
<span id="cb609-2"><a href="mat-dframe.html#cb609-2"></a>dd<span class="op">$</span>maisuma &lt;-<span class="st"> </span><span class="ot">TRUE</span></span>
<span id="cb609-3"><a href="mat-dframe.html#cb609-3"></a>dd</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
coluna1
</th>
<th style="text-align:right;">
coluna2
</th>
<th style="text-align:right;">
coluna3
</th>
<th style="text-align:left;">
novacoluna
</th>
<th style="text-align:left;">
nova2
</th>
<th style="text-align:left;">
outracoluna
</th>
<th style="text-align:left;">
maisuma
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
linha1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
<tr>
<td style="text-align:left;">
linha2
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
<tr>
<td style="text-align:left;">
linha3
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
</tr>
</tbody>
</table>
<p>Adicionar colunas em uma matriz é um pouco diferente do que se faz com um <code>data.frame</code>:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="mat-dframe.html#cb610-1"></a><span class="co"># primeiro nao posso usar $ porque matrix não entende isso</span></span>
<span id="cb610-2"><a href="mat-dframe.html#cb610-2"></a><span class="kw">class</span>(mm) <span class="co"># é uma matrix</span></span>
<span id="cb610-3"><a href="mat-dframe.html#cb610-3"></a>mm<span class="op">$</span>colun3 <span class="co"># isso nao funciona</span></span></code></pre></div>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="mat-dframe.html#cb611-1"></a>mm[, <span class="st">&quot;coluna3&quot;</span>] <span class="co"># isso funciona</span></span></code></pre></div>
<pre><code>## linha1 linha2 linha3 
##      7      8      9</code></pre>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="mat-dframe.html#cb613-1"></a><span class="co"># adicionando uma coluna</span></span></code></pre></div>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="mat-dframe.html#cb614-1"></a>mm[, <span class="dv">4</span>] <span class="co"># isso nao existe</span></span>
<span id="cb614-2"><a href="mat-dframe.html#cb614-2"></a>mm[, <span class="dv">4</span>] &lt;-<span class="st"> </span><span class="kw">log</span>(mm[, <span class="st">&quot;coluna3&quot;</span>]) <span class="co"># isso não funciona</span></span></code></pre></div>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="mat-dframe.html#cb615-1"></a><span class="co"># poderia usar a função cbind que vimos anteriormente</span></span>
<span id="cb615-2"><a href="mat-dframe.html#cb615-2"></a>mm &lt;-<span class="st"> </span><span class="kw">cbind</span>(mm, <span class="dt">LOGCOLUNA3 =</span> <span class="kw">log</span>(mm[, <span class="st">&quot;coluna3&quot;</span>])) <span class="co"># assim eu posso</span></span></code></pre></div>
</div>
</div>
<div id="filtrando-e-ordenando-matrizes-e-data.frames" class="section level2">
<h2><span class="header-section-number">3.3</span> Filtrando e ordenando matrizes e <code>data.frames</code></h2>
<div id="filtragem-de-dados" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Filtragem de dados</h3>
<p>Já vimos como fazer perguntas sobre vetores (Seção <a href="vetores.html#perg-vetores">2.6.1</a>) e obter vetores lógicos ou valores de índices que nos permitem extrair ou filtrar de vetores os dados que satisfazem às condições das perguntas feitas.
Aqui vamos estender isso para objetos de classe <code>matrix</code> e <code>data.frame</code>, porque é através de vetores lógicos ou de matrizes lógicas que podemos filtrar dados de objetos bidimensionais.</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="mat-dframe.html#cb616-1"></a>?iris <span class="co"># veja o help do R sobre Edgar Anderson&#39;s Iris Data que explica esses dados que vem com o R</span></span></code></pre></div>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="mat-dframe.html#cb617-1"></a><span class="kw">class</span>(iris)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="mat-dframe.html#cb619-1"></a><span class="kw">str</span>(iris) <span class="co"># estrutura, veja as colunas</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="mat-dframe.html#cb621-1"></a><span class="co"># vamos filtrar os dados de uma das especies</span></span>
<span id="cb621-2"><a href="mat-dframe.html#cb621-2"></a><span class="kw">unique</span>(iris<span class="op">$</span>Species) <span class="co"># vemos os valores únicos</span></span></code></pre></div>
<pre><code>## [1] setosa     versicolor virginica 
## Levels: setosa versicolor virginica</code></pre>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="mat-dframe.html#cb623-1"></a><span class="co"># ou, tendo em vista que é um fator</span></span>
<span id="cb623-2"><a href="mat-dframe.html#cb623-2"></a><span class="kw">levels</span>(iris<span class="op">$</span>Species)</span></code></pre></div>
<pre><code>## [1] &quot;setosa&quot;     &quot;versicolor&quot; &quot;virginica&quot;</code></pre>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="mat-dframe.html#cb625-1"></a>sp1 &lt;-<span class="st"> </span><span class="kw">levels</span>(iris<span class="op">$</span>Species)[<span class="dv">1</span>]</span>
<span id="cb625-2"><a href="mat-dframe.html#cb625-2"></a><span class="co"># quais linhas correspondem a essa especie</span></span>
<span id="cb625-3"><a href="mat-dframe.html#cb625-3"></a>vl &lt;-<span class="st"> </span>iris<span class="op">$</span>Species <span class="op">==</span><span class="st"> </span>sp1</span>
<span id="cb625-4"><a href="mat-dframe.html#cb625-4"></a><span class="kw">sum</span>(vl) <span class="co"># numero de linhas que satisfazem a pergunta</span></span></code></pre></div>
<pre><code>## [1] 50</code></pre>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="mat-dframe.html#cb627-1"></a><span class="kw">nrow</span>(iris) <span class="co"># numero total de linhas no data.frame</span></span></code></pre></div>
<pre><code>## [1] 150</code></pre>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="mat-dframe.html#cb629-1"></a><span class="co"># filtrando os dados eu simplesmente uso o vetor lógico como índice de linha. O novo objeto criado terá apenas as linhas em que vl é verdadeiro</span></span>
<span id="cb629-2"><a href="mat-dframe.html#cb629-2"></a>iris.sp1 &lt;-<span class="st"> </span>iris[vl, ]</span>
<span id="cb629-3"><a href="mat-dframe.html#cb629-3"></a><span class="kw">nrow</span>(iris.sp1) <span class="op">==</span><span class="st"> </span><span class="kw">sum</span>(vl) <span class="co"># entao esta condição é verdadeira</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="mat-dframe.html#cb631-1"></a><span class="co"># filtrar segundo duas colunas</span></span>
<span id="cb631-2"><a href="mat-dframe.html#cb631-2"></a>vl &lt;-<span class="st"> </span>iris<span class="op">$</span>Species <span class="op">==</span><span class="st"> </span>sp1 <span class="co"># seja da especie em sp1</span></span>
<span id="cb631-3"><a href="mat-dframe.html#cb631-3"></a><span class="kw">sum</span>(vl) <span class="co"># quantas sao?</span></span></code></pre></div>
<pre><code>## [1] 50</code></pre>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="mat-dframe.html#cb633-1"></a>vl2 &lt;-<span class="st"> </span>iris<span class="op">$</span>Sepal.Length <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span> <span class="co"># tenha sepala menor ou igual a 5</span></span>
<span id="cb633-2"><a href="mat-dframe.html#cb633-2"></a><span class="kw">sum</span>(vl2) <span class="co"># quantas sao?</span></span></code></pre></div>
<pre><code>## [1] 32</code></pre>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="mat-dframe.html#cb635-1"></a><span class="co"># combinando as duas perguntas</span></span>
<span id="cb635-2"><a href="mat-dframe.html#cb635-2"></a>vll &lt;-<span class="st"> </span>vl <span class="op">&amp;</span><span class="st"> </span>vl2</span>
<span id="cb635-3"><a href="mat-dframe.html#cb635-3"></a><span class="kw">sum</span>(vll) <span class="co"># quantas sao?</span></span></code></pre></div>
<pre><code>## [1] 28</code></pre>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="mat-dframe.html#cb637-1"></a><span class="co"># filtrando</span></span>
<span id="cb637-2"><a href="mat-dframe.html#cb637-2"></a>ff &lt;-<span class="st"> </span>iris[vll, ]</span>
<span id="cb637-3"><a href="mat-dframe.html#cb637-3"></a><span class="kw">class</span>(ff) <span class="co"># novo data.frame resultando do filtro realizado</span></span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="mat-dframe.html#cb639-1"></a><span class="kw">nrow</span>(ff) <span class="op">==</span><span class="st"> </span><span class="kw">sum</span>(vll) <span class="co"># isso deve ser verdadeiro</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div id="dados-com-valores-ausentes" class="section level4">
<h4><span class="header-section-number">3.3.1.1</span> Dados com valores ausentes</h4>
<p>As funções<code>is.na()</code> e <code>na.omit()</code> vistas anteriormente (Seção <a href="vetores.html#filtro-dados-ausentes">2.6.3</a>) permitem eliminar linhas e colunas que tenham valores ausentes.
A presença de valores às vezes impede certas análises de serem executadas.</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="mat-dframe.html#cb641-1"></a><span class="co"># vamos fazer uma cópia do objeto iris e modificar ele acrescentando alguns NAs</span></span>
<span id="cb641-2"><a href="mat-dframe.html#cb641-2"></a>dd &lt;-<span class="st"> </span>iris</span>
<span id="cb641-3"><a href="mat-dframe.html#cb641-3"></a><span class="co"># tem algum NA originalmente?</span></span>
<span id="cb641-4"><a href="mat-dframe.html#cb641-4"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(dd)) <span class="co"># não tem</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb643-1"><a href="mat-dframe.html#cb643-1"></a><span class="co"># qual a dimensão?</span></span>
<span id="cb643-2"><a href="mat-dframe.html#cb643-2"></a><span class="kw">dim</span>(dd)</span></code></pre></div>
<pre><code>## [1] 150   5</code></pre>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="mat-dframe.html#cb645-1"></a><span class="co"># pega 10 valores aletórios entre 1:150 (linhas)</span></span>
<span id="cb645-2"><a href="mat-dframe.html#cb645-2"></a>v1 &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(dd), <span class="dt">size =</span> <span class="dv">10</span>, <span class="dt">replace =</span> F)</span>
<span id="cb645-3"><a href="mat-dframe.html#cb645-3"></a><span class="co"># nessas linhas acrescenta NAs na coluna 2</span></span>
<span id="cb645-4"><a href="mat-dframe.html#cb645-4"></a>dd[v1, <span class="dv">2</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb645-5"><a href="mat-dframe.html#cb645-5"></a><span class="co"># pega outros 10 valores aletórios entre 1:150 (linhas)</span></span>
<span id="cb645-6"><a href="mat-dframe.html#cb645-6"></a>v1 &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(dd), <span class="dt">size =</span> <span class="dv">10</span>, <span class="dt">replace =</span> F)</span>
<span id="cb645-7"><a href="mat-dframe.html#cb645-7"></a><span class="co"># nessas linhas acrescenta NAs na coluna 3</span></span>
<span id="cb645-8"><a href="mat-dframe.html#cb645-8"></a>dd[v1, <span class="dv">3</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb645-9"><a href="mat-dframe.html#cb645-9"></a></span>
<span id="cb645-10"><a href="mat-dframe.html#cb645-10"></a><span class="co"># pronto agora temos um data.frame com NAs</span></span>
<span id="cb645-11"><a href="mat-dframe.html#cb645-11"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(dd)) <span class="co"># tem 20 NAs na tabela</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="mat-dframe.html#cb647-1"></a><span class="co"># quais linhas tem NA</span></span>
<span id="cb647-2"><a href="mat-dframe.html#cb647-2"></a>vl &lt;-<span class="st"> </span><span class="kw">is.na</span>(dd[, <span class="dv">2</span>]) <span class="op">|</span><span class="st"> </span><span class="kw">is.na</span>(dd[, <span class="dv">3</span>]) <span class="co"># ou é NA em 2 ou em 3 que foi onde mudei</span></span>
<span id="cb647-3"><a href="mat-dframe.html#cb647-3"></a>dd[vl, ]</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Sepal.Length
</th>
<th style="text-align:right;">
Sepal.Width
</th>
<th style="text-align:right;">
Petal.Length
</th>
<th style="text-align:right;">
Petal.Width
</th>
<th style="text-align:left;">
Species
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
20
</td>
<td style="text-align:right;">
5.1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:right;">
5.1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.7
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
38
</td>
<td style="text-align:right;">
4.9
</td>
<td style="text-align:right;">
3.6
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
44
</td>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
45
</td>
<td style="text-align:right;">
5.1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.9
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:left;">
51
</td>
<td style="text-align:right;">
7.0
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
4.0
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
68
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
4.1
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
75
</td>
<td style="text-align:right;">
6.4
</td>
<td style="text-align:right;">
2.9
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
76
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
83
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
85
</td>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
90
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
4.0
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
93
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
100
</td>
<td style="text-align:right;">
5.7
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
4.1
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:left;">
versicolor
</td>
</tr>
<tr>
<td style="text-align:left;">
108
</td>
<td style="text-align:right;">
7.3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
6.3
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
<tr>
<td style="text-align:left;">
125
</td>
<td style="text-align:right;">
6.7
</td>
<td style="text-align:right;">
3.3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2.1
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
<tr>
<td style="text-align:left;">
150
</td>
<td style="text-align:right;">
5.9
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
5.1
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="mat-dframe.html#cb648-1"></a><span class="co"># use na.omit() para eliminar todas as linhas que NA em alguma coluna</span></span>
<span id="cb648-2"><a href="mat-dframe.html#cb648-2"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(dd)) <span class="co"># tem 20 valores</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="mat-dframe.html#cb650-1"></a>dd2 &lt;-<span class="st"> </span><span class="kw">na.omit</span>(dd)</span>
<span id="cb650-2"><a href="mat-dframe.html#cb650-2"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(dd2)) <span class="co"># nao tem mais nenhum</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
</div>
</div>
<div id="ordenação-de-dados" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Ordenação de dados</h3>
<p>Para ordenar matrizes e <code>data.frames</code>, é preciso entender a diferença entre duas funções:</p>
<ul>
<li><p><code>sort()</code> ordena um vetor e retorna os valores ordenados;</p></li>
<li><p><code>order()</code> ordena um vetor e retorna os <strong>índices dos valores ordenados</strong>. É isso que deve ser utilizado para ordenar matrizes e <code>data.frames</code>.</p></li>
</ul>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="mat-dframe.html#cb652-1"></a>?sort</span>
<span id="cb652-2"><a href="mat-dframe.html#cb652-2"></a>?order</span></code></pre></div>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="mat-dframe.html#cb653-1"></a><span class="co"># ordenação</span></span>
<span id="cb653-2"><a href="mat-dframe.html#cb653-2"></a><span class="kw">str</span>(iris)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="mat-dframe.html#cb655-1"></a><span class="co"># funcao SORT()</span></span>
<span id="cb655-2"><a href="mat-dframe.html#cb655-2"></a>o1 &lt;-<span class="st"> </span><span class="kw">sort</span>(iris<span class="op">$</span>Sepal.Length) <span class="co"># pega os valores ordenados da coluna comprimento de sépala</span></span>
<span id="cb655-3"><a href="mat-dframe.html#cb655-3"></a>o1 <span class="co"># sao valores de sepalas do menor para o maior</span></span></code></pre></div>
<pre><code>##   [1] 4.3 4.4 4.4 4.4 4.5 4.6 4.6 4.6 4.6 4.7 4.7 4.8 4.8 4.8 4.8 4.8 4.9 4.9
##  [19] 4.9 4.9 4.9 4.9 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.1 5.1 5.1 5.1
##  [37] 5.1 5.1 5.1 5.1 5.1 5.2 5.2 5.2 5.2 5.3 5.4 5.4 5.4 5.4 5.4 5.4 5.5 5.5
##  [55] 5.5 5.5 5.5 5.5 5.5 5.6 5.6 5.6 5.6 5.6 5.6 5.7 5.7 5.7 5.7 5.7 5.7 5.7
##  [73] 5.7 5.8 5.8 5.8 5.8 5.8 5.8 5.8 5.9 5.9 5.9 6.0 6.0 6.0 6.0 6.0 6.0 6.1
##  [91] 6.1 6.1 6.1 6.1 6.1 6.2 6.2 6.2 6.2 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.3
## [109] 6.4 6.4 6.4 6.4 6.4 6.4 6.4 6.5 6.5 6.5 6.5 6.5 6.6 6.6 6.7 6.7 6.7 6.7
## [127] 6.7 6.7 6.7 6.7 6.8 6.8 6.8 6.9 6.9 6.9 6.9 7.0 7.1 7.2 7.2 7.2 7.3 7.4
## [145] 7.6 7.7 7.7 7.7 7.7 7.9</code></pre>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="mat-dframe.html#cb657-1"></a><span class="co"># em ordem decrescente</span></span>
<span id="cb657-2"><a href="mat-dframe.html#cb657-2"></a>o2 &lt;-<span class="st"> </span><span class="kw">sort</span>(iris<span class="op">$</span>Sepal.Length, <span class="dt">decreasing =</span> T)</span>
<span id="cb657-3"><a href="mat-dframe.html#cb657-3"></a>o2 <span class="co"># sao valores de sepalas do maior para o menor</span></span></code></pre></div>
<pre><code>##   [1] 7.9 7.7 7.7 7.7 7.7 7.6 7.4 7.3 7.2 7.2 7.2 7.1 7.0 6.9 6.9 6.9 6.9 6.8
##  [19] 6.8 6.8 6.7 6.7 6.7 6.7 6.7 6.7 6.7 6.7 6.6 6.6 6.5 6.5 6.5 6.5 6.5 6.4
##  [37] 6.4 6.4 6.4 6.4 6.4 6.4 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.2 6.2 6.2
##  [55] 6.2 6.1 6.1 6.1 6.1 6.1 6.1 6.0 6.0 6.0 6.0 6.0 6.0 5.9 5.9 5.9 5.8 5.8
##  [73] 5.8 5.8 5.8 5.8 5.8 5.7 5.7 5.7 5.7 5.7 5.7 5.7 5.7 5.6 5.6 5.6 5.6 5.6
##  [91] 5.6 5.5 5.5 5.5 5.5 5.5 5.5 5.5 5.4 5.4 5.4 5.4 5.4 5.4 5.3 5.2 5.2 5.2
## [109] 5.2 5.1 5.1 5.1 5.1 5.1 5.1 5.1 5.1 5.1 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0
## [127] 5.0 5.0 4.9 4.9 4.9 4.9 4.9 4.9 4.8 4.8 4.8 4.8 4.8 4.7 4.7 4.6 4.6 4.6
## [145] 4.6 4.5 4.4 4.4 4.4 4.3</code></pre>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="mat-dframe.html#cb659-1"></a><span class="co"># FUNCAO order()</span></span>
<span id="cb659-2"><a href="mat-dframe.html#cb659-2"></a><span class="co"># qual o indice dos valores ordenados em ordem crescente?</span></span>
<span id="cb659-3"><a href="mat-dframe.html#cb659-3"></a>o3 &lt;-<span class="st"> </span><span class="kw">order</span>(iris<span class="op">$</span>Sepal.Length)</span>
<span id="cb659-4"><a href="mat-dframe.html#cb659-4"></a>o3 <span class="co"># esses valores correspondem aos INDICES dos valores ordenados</span></span></code></pre></div>
<pre><code>##   [1]  14   9  39  43  42   4   7  23  48   3  30  12  13  25  31  46   2  10
##  [19]  35  38  58 107   5   8  26  27  36  41  44  50  61  94   1  18  20  22
##  [37]  24  40  45  47  99  28  29  33  60  49   6  11  17  21  32  85  34  37
##  [55]  54  81  82  90  91  65  67  70  89  95 122  16  19  56  80  96  97 100
##  [73] 114  15  68  83  93 102 115 143  62  71 150  63  79  84  86 120 139  64
##  [91]  72  74  92 128 135  69  98 127 149  57  73  88 101 104 124 134 137 147
## [109]  52  75 112 116 129 133 138  55 105 111 117 148  59  76  66  78  87 109
## [127] 125 141 145 146  77 113 144  53 121 140 142  51 103 110 126 130 108 131
## [145] 106 118 119 123 136 132</code></pre>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="mat-dframe.html#cb661-1"></a><span class="co"># entao para ver os valores ordenados</span></span>
<span id="cb661-2"><a href="mat-dframe.html#cb661-2"></a>iris<span class="op">$</span>Sepal.Length[o3]</span></code></pre></div>
<pre><code>##   [1] 4.3 4.4 4.4 4.4 4.5 4.6 4.6 4.6 4.6 4.7 4.7 4.8 4.8 4.8 4.8 4.8 4.9 4.9
##  [19] 4.9 4.9 4.9 4.9 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.1 5.1 5.1 5.1
##  [37] 5.1 5.1 5.1 5.1 5.1 5.2 5.2 5.2 5.2 5.3 5.4 5.4 5.4 5.4 5.4 5.4 5.5 5.5
##  [55] 5.5 5.5 5.5 5.5 5.5 5.6 5.6 5.6 5.6 5.6 5.6 5.7 5.7 5.7 5.7 5.7 5.7 5.7
##  [73] 5.7 5.8 5.8 5.8 5.8 5.8 5.8 5.8 5.9 5.9 5.9 6.0 6.0 6.0 6.0 6.0 6.0 6.1
##  [91] 6.1 6.1 6.1 6.1 6.1 6.2 6.2 6.2 6.2 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.3 6.3
## [109] 6.4 6.4 6.4 6.4 6.4 6.4 6.4 6.5 6.5 6.5 6.5 6.5 6.6 6.6 6.7 6.7 6.7 6.7
## [127] 6.7 6.7 6.7 6.7 6.8 6.8 6.8 6.9 6.9 6.9 6.9 7.0 7.1 7.2 7.2 7.2 7.3 7.4
## [145] 7.6 7.7 7.7 7.7 7.7 7.9</code></pre>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="mat-dframe.html#cb663-1"></a><span class="co"># então isso deve ser totalmente verdadeiro:</span></span>
<span id="cb663-2"><a href="mat-dframe.html#cb663-2"></a>iris<span class="op">$</span>Sepal.Length[o3] <span class="op">==</span><span class="st"> </span><span class="kw">sort</span>(iris<span class="op">$</span>Sepal.Length) <span class="co"># as comparações para a par são identicas</span></span></code></pre></div>
<pre><code>##   [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
##  [16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
##  [31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
##  [46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
##  [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
##  [76] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
##  [91] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
## [106] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
## [121] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
## [136] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="mat-dframe.html#cb665-1"></a><span class="co"># então esta expressão também é verdadeira:</span></span>
<span id="cb665-2"><a href="mat-dframe.html#cb665-2"></a><span class="kw">sum</span>(iris<span class="op">$</span>Sepal.Length[o3] <span class="op">==</span><span class="st"> </span><span class="kw">sort</span>(iris<span class="op">$</span>Sepal.Length)) <span class="op">==</span><span class="st"> </span><span class="kw">nrow</span>(iris)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="mat-dframe.html#cb667-1"></a><span class="co"># portanto a função sort ordena os valores e funcao order mostra apenas os indices dos valores ordenados. Assim, posso usar a funcao order() para ordenar data.frames, matrizes e vetores</span></span>
<span id="cb667-2"><a href="mat-dframe.html#cb667-2"></a>idx &lt;-<span class="st"> </span><span class="kw">order</span>(iris<span class="op">$</span>Sepal.Length) <span class="co"># indice das linhas ordenadas segundo o comprimento das sepalas</span></span>
<span id="cb667-3"><a href="mat-dframe.html#cb667-3"></a><span class="co"># compara com o original:</span></span>
<span id="cb667-4"><a href="mat-dframe.html#cb667-4"></a><span class="kw">sum</span>(iris<span class="op">$</span>Sepal.Length[idx] <span class="op">==</span><span class="st"> </span>iris<span class="op">$</span>Sepal.Length) <span class="op">==</span><span class="st"> </span><span class="kw">nrow</span>(iris) <span class="co"># é FALSO porque em iris as linhas não estão originalmente ordenadas segundo o comprimento.</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="mat-dframe.html#cb669-1"></a><span class="co"># vamos mudar isso</span></span>
<span id="cb669-2"><a href="mat-dframe.html#cb669-2"></a>novo.iris &lt;-<span class="st"> </span>iris[idx, ] <span class="co"># pego o vetor de indices dos valores ordenados e uso na indexacao para ordenar o objeto original segunda a coluna escolhida</span></span>
<span id="cb669-3"><a href="mat-dframe.html#cb669-3"></a>idx2 &lt;-<span class="st"> </span><span class="kw">order</span>(novo.iris<span class="op">$</span>Sepal.Length) <span class="co"># indice das linhas ordenadas segundo o comprimento das sepalas</span></span>
<span id="cb669-4"><a href="mat-dframe.html#cb669-4"></a><span class="co"># note que agora essa expressão é verdadeira, porque o original já está ordenado segundo essa coluna</span></span>
<span id="cb669-5"><a href="mat-dframe.html#cb669-5"></a><span class="kw">sum</span>(novo.iris<span class="op">$</span>Sepal.Length[idx2] <span class="op">==</span><span class="st"> </span>novo.iris<span class="op">$</span>Sepal.Length) <span class="op">==</span><span class="st"> </span><span class="kw">nrow</span>(novo.iris) <span class="co"># é FALSO</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="mat-dframe.html#cb671-1"></a><span class="co"># AGORA ORDENANDO POR MULTIPLAS COLUNAS</span></span>
<span id="cb671-2"><a href="mat-dframe.html#cb671-2"></a>idx &lt;-<span class="st"> </span><span class="kw">order</span>(iris<span class="op">$</span>Species, iris<span class="op">$</span>Sepal.Length, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>) <span class="co"># por especie e por sepala em ordem decrescente</span></span>
<span id="cb671-3"><a href="mat-dframe.html#cb671-3"></a></span>
<span id="cb671-4"><a href="mat-dframe.html#cb671-4"></a><span class="co"># ordena segundo essas duas colunas</span></span>
<span id="cb671-5"><a href="mat-dframe.html#cb671-5"></a>novo.iris &lt;-<span class="st"> </span>iris[idx, ]</span>
<span id="cb671-6"><a href="mat-dframe.html#cb671-6"></a>novo.iris[, <span class="kw">c</span>(<span class="st">&quot;Species&quot;</span>, <span class="st">&quot;Sepal.Length&quot;</span>)]</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Species
</th>
<th style="text-align:right;">
Sepal.Length
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
132
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.9
</td>
</tr>
<tr>
<td style="text-align:left;">
118
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.7
</td>
</tr>
<tr>
<td style="text-align:left;">
119
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.7
</td>
</tr>
<tr>
<td style="text-align:left;">
123
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.7
</td>
</tr>
<tr>
<td style="text-align:left;">
136
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.7
</td>
</tr>
<tr>
<td style="text-align:left;">
106
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.6
</td>
</tr>
<tr>
<td style="text-align:left;">
131
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.4
</td>
</tr>
<tr>
<td style="text-align:left;">
108
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.3
</td>
</tr>
<tr>
<td style="text-align:left;">
110
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.2
</td>
</tr>
<tr>
<td style="text-align:left;">
126
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.2
</td>
</tr>
<tr>
<td style="text-align:left;">
130
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.2
</td>
</tr>
<tr>
<td style="text-align:left;">
103
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
7.1
</td>
</tr>
<tr>
<td style="text-align:left;">
121
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.9
</td>
</tr>
<tr>
<td style="text-align:left;">
140
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.9
</td>
</tr>
<tr>
<td style="text-align:left;">
142
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.9
</td>
</tr>
<tr>
<td style="text-align:left;">
113
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.8
</td>
</tr>
<tr>
<td style="text-align:left;">
144
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.8
</td>
</tr>
<tr>
<td style="text-align:left;">
109
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
125
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
141
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
145
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
146
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
105
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
111
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
117
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
148
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
112
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
116
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
129
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
133
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
138
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
101
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
104
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
124
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
134
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
137
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
147
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
127
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.2
</td>
</tr>
<tr>
<td style="text-align:left;">
149
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.2
</td>
</tr>
<tr>
<td style="text-align:left;">
128
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.1
</td>
</tr>
<tr>
<td style="text-align:left;">
135
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.1
</td>
</tr>
<tr>
<td style="text-align:left;">
120
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
139
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
150
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
5.9
</td>
</tr>
<tr>
<td style="text-align:left;">
102
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
115
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
143
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
114
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
122
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
5.6
</td>
</tr>
<tr>
<td style="text-align:left;">
107
</td>
<td style="text-align:left;">
virginica
</td>
<td style="text-align:right;">
4.9
</td>
</tr>
<tr>
<td style="text-align:left;">
51
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
7.0
</td>
</tr>
<tr>
<td style="text-align:left;">
53
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.9
</td>
</tr>
<tr>
<td style="text-align:left;">
77
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.8
</td>
</tr>
<tr>
<td style="text-align:left;">
66
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
78
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
87
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.7
</td>
</tr>
<tr>
<td style="text-align:left;">
59
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.6
</td>
</tr>
<tr>
<td style="text-align:left;">
76
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.6
</td>
</tr>
<tr>
<td style="text-align:left;">
55
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
52
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
75
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.4
</td>
</tr>
<tr>
<td style="text-align:left;">
57
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
73
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
88
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.3
</td>
</tr>
<tr>
<td style="text-align:left;">
69
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.2
</td>
</tr>
<tr>
<td style="text-align:left;">
98
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.2
</td>
</tr>
<tr>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.1
</td>
</tr>
<tr>
<td style="text-align:left;">
72
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.1
</td>
</tr>
<tr>
<td style="text-align:left;">
74
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.1
</td>
</tr>
<tr>
<td style="text-align:left;">
92
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.1
</td>
</tr>
<tr>
<td style="text-align:left;">
63
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
79
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
84
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
86
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
62
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.9
</td>
</tr>
<tr>
<td style="text-align:left;">
71
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.9
</td>
</tr>
<tr>
<td style="text-align:left;">
68
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
83
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
93
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
56
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
80
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
96
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
97
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
100
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
65
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.6
</td>
</tr>
<tr>
<td style="text-align:left;">
67
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.6
</td>
</tr>
<tr>
<td style="text-align:left;">
70
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.6
</td>
</tr>
<tr>
<td style="text-align:left;">
89
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.6
</td>
</tr>
<tr>
<td style="text-align:left;">
95
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.6
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
81
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
82
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
91
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
85
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.4
</td>
</tr>
<tr>
<td style="text-align:left;">
60
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.2
</td>
</tr>
<tr>
<td style="text-align:left;">
99
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
61
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
94
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
58
</td>
<td style="text-align:left;">
versicolor
</td>
<td style="text-align:right;">
4.9
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.8
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
34
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
37
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.4
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.4
</td>
</tr>
<tr>
<td style="text-align:left;">
17
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.4
</td>
</tr>
<tr>
<td style="text-align:left;">
21
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.4
</td>
</tr>
<tr>
<td style="text-align:left;">
32
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.4
</td>
</tr>
<tr>
<td style="text-align:left;">
49
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.3
</td>
</tr>
<tr>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.2
</td>
</tr>
<tr>
<td style="text-align:left;">
29
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.2
</td>
</tr>
<tr>
<td style="text-align:left;">
33
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.2
</td>
</tr>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
20
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
40
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
45
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
47
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.1
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
26
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
27
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
36
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
44
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
50
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.9
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.9
</td>
</tr>
<tr>
<td style="text-align:left;">
35
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.9
</td>
</tr>
<tr>
<td style="text-align:left;">
38
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.9
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.8
</td>
</tr>
<tr>
<td style="text-align:left;">
13
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.8
</td>
</tr>
<tr>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.8
</td>
</tr>
<tr>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.8
</td>
</tr>
<tr>
<td style="text-align:left;">
46
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.8
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.7
</td>
</tr>
<tr>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.7
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.6
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.6
</td>
</tr>
<tr>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.6
</td>
</tr>
<tr>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.6
</td>
</tr>
<tr>
<td style="text-align:left;">
42
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.5
</td>
</tr>
<tr>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.4
</td>
</tr>
<tr>
<td style="text-align:left;">
39
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.4
</td>
</tr>
<tr>
<td style="text-align:left;">
43
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.4
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
setosa
</td>
<td style="text-align:right;">
4.3
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="mat-dframe.html#cb672-1"></a><span class="co"># para cada especie esta ordenado por sepala:</span></span>
<span id="cb672-2"><a href="mat-dframe.html#cb672-2"></a>novo.iris[novo.iris<span class="op">$</span>Species <span class="op">==</span><span class="st"> &quot;versicolor&quot;</span>, ]<span class="op">$</span>Sepal.Length</span></code></pre></div>
<pre><code>##  [1] 7.0 6.9 6.8 6.7 6.7 6.7 6.6 6.6 6.5 6.4 6.4 6.3 6.3 6.3 6.2 6.2 6.1 6.1 6.1
## [20] 6.1 6.0 6.0 6.0 6.0 5.9 5.9 5.8 5.8 5.8 5.7 5.7 5.7 5.7 5.7 5.6 5.6 5.6 5.6
## [39] 5.6 5.5 5.5 5.5 5.5 5.5 5.4 5.2 5.1 5.0 5.0 4.9</code></pre>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb674-1"><a href="mat-dframe.html#cb674-1"></a>novo.iris[novo.iris<span class="op">$</span>Species <span class="op">==</span><span class="st"> &quot;virginica&quot;</span>, ]<span class="op">$</span>Sepal.Length</span></code></pre></div>
<pre><code>##  [1] 7.9 7.7 7.7 7.7 7.7 7.6 7.4 7.3 7.2 7.2 7.2 7.1 6.9 6.9 6.9 6.8 6.8 6.7 6.7
## [20] 6.7 6.7 6.7 6.5 6.5 6.5 6.5 6.4 6.4 6.4 6.4 6.4 6.3 6.3 6.3 6.3 6.3 6.3 6.2
## [39] 6.2 6.1 6.1 6.0 6.0 5.9 5.8 5.8 5.8 5.7 5.6 4.9</code></pre>
</div>
</div>
<div id="importanto-e-exportando-dados-no-r" class="section level2">
<h2><span class="header-section-number">3.4</span> Importanto e exportando dados no R</h2>
<div class="infobox warning">
<p>ATENÇÃO! Se você utiliza Windows, e no seu gerenciador de arquivos os arquivos aparecem sem <strong>extensão</strong> (<code>.csv</code>, <code>.txt</code>, <code>.doc</code> etc.), mude nas suas preferências para não <strong>ocultar extensões de arquivos conhecidos</strong>. Dessa forma você consegue ver os arquivos pelo tipo (extensão).</p>
</div>
<p>Existem diversas funções para importar dados para objetos do R, incluindo funções para ler arquivos do Excel (<code>.xls</code>, ou <code>.xlsx</code>), arquivos XML, arquivos <code>*.DBF</code> etc.
O R também tem pacotes que interagem diretamente com bancos de dados (mysql, postgres, sql etc.).
Não cobriremos a importação desses tipos aqui, mas você pode pesquisar sozinho no rede.</p>
<p>É frequente encontrarmos problemas de acentuação e na transferibilidade entre sistemas operacionais diferentes (Mac, Linux, Windows).
A palavra chave aqui é <a href="https://en.wikipedia.org/wiki/Character_encoding">codificação de caracteres</a> (em inglês, “character encoding”).</p>
<div id="arquivos-de-texto-simples-para-estocar-dados" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Arquivos de texto simples para estocar dados</h3>
<p>Muitos dados que obtemos online e os próprios scripts do R são do formato mais simples que existe, que são arquivos de texto, geralmente arquivos salvos com extensões <code>.csv</code> ou <code>.txt</code>.
Arquivos desse tipo podem ser abertos em qualquer editor de texto, em qualquer sistema operacional e em qualquer versão.
Isso garante arquivamento, longevidade e transferibilidade.
Portanto, é a melhor forma de salvar seus dados e compartilhá-los.</p>
<p>Qualquer arquivo desse tipo pode ser lido pelos os editores de script do R ou RStudio.
Pode também exportar planilhas do Excel ou LibreOffice (e afins) para esse formato.
Vamos nos concentrar neste curso em lidar com arquivos deste tipo.</p>
<p>É importante atentar em arquivos de texto contendo dados tabulados para:</p>
<ul>
<li><p>O <strong>separador</strong> das colunas pode ser <code>;</code>, tabulação (no R = ’‘’), <code>,</code>, ou qualquer símbolo que indique a separação das colunas (ou seja não está nas células);</p></li>
<li><p>Casas decimais podem ser separadas por <code>.</code> ou <code>,</code>.</p></li>
</ul>
<div class="infobox idea">
<p>DICA: Procure saber como seus dados estão antes de tentar importá-los, de forma a indicar corretamente o delimitador e o separador das casas decimais adequados. Você evitará assim muita dor de cabeça!</p>
</div>
<ul>
<li>Datas - colunas com datas constituem um objeto de classe <code>date</code> no R, que a converte em número que pode ser usado em operações matemáticas. Dependendo de como seus dados estão formatados no original, é comum a inversão de mês com dia entre, por exemplo, o sistema inglês (MM-DD-YYYY) e o sistema português (DD-MM-YYYY). Tenha controle disso!</li>
</ul>
<p>Por isso, recomenda-se que:</p>
<ul>
<li><p>Defina um padrão que você sempre usará para formatar seus dados ANTES de importá-los ao R. Dessa forma você irá memorizar rapidamente como importar os dados do jeito que você sempre prepara;</p></li>
<li><p>Padronize a codificação dos caracteres (UTF8 é padrão Mac e Linux; Latin1 é padrão Windows) em arquivos <code>.txt</code>;</p></li>
<li><p>Padronize o separador de casa decimal (ponto ou vírgula?);</p></li>
<li><p>Pradonize a quebra de linha, i.e., o que indica no texto o início de uma nova linha (novamente, isso é diferente entre Mac, Linux e Windows);</p></li>
<li><p>Padronize se colunas de texto vão entre aspas;</p></li>
<li><p>Padronize como você dá nome às colunas; nome de colunas e de linhas não devem ser muito longos, e deve-se <strong>evitar acentos ou espaços em branco em nomes de colunas</strong>. Isso é muito importante!</p></li>
<li><p>Se você usa planilhas, recomendamos usar uma versão de software livre da família LibreOffice/OpenOffice pois eles permitem um maior controle da exportação dos dados, o que inclui controlar o tipo de codificação de caracter dos dados de saída e também separadores das colunas, anto para ler como para salvar arquivos de planilhas.</p></li>
</ul>
</div>
<div id="import-dados" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Importando dados</h3>
<div id="pacote-base-do-r" class="section level4">
<h4><span class="header-section-number">3.4.2.1</span> Pacote base do R</h4>
<p>A principal função para importar dados no R é <code>read.table()</code>.
Ela funciona para importar arquivos em formato de texto simples (<code>.csv</code>, <code>.txt</code>).</p>
<p>Vamos utilizar um conjunto de <a href="https://github.com/LABOTAM/LABOTAM.github.io/blob/main/dados/municipiosbrasil.csv">dados contendo as coordenadas geográficas dos municípios brasileiros</a> para praticar a importação dos dados.
Baixe-o para a sua pasta de trabalho.</p>
<p>Em seguida, abra o arquivo com um editor de texto simples (Bloco de Notas, Notepad++, TextWrangler, gedit, etc.) e veja como ele está formatado.
Verifique:</p>
<ul>
<li><p>Qual é o separador de colunas?;</p></li>
<li><p>Qual é a codificação dos caracteres? (consegue ver e editar isso no seu editor?);</p></li>
<li><p>Qual é a quebra de linha? (consegue ver e editar isso no seu editor?</p></li>
<li><p>Aspas duplas ou simples definem colunas? (este arquivo não tem nenhuma aspas!)</p></li>
</ul>
<p>Vamos agora abrir este arquivo no LibreOffice (ou similar, como o Excel).
Busque os comandos de importação para poder importar o arquivo de texto<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.
Veja os controles na importação quanto aos elementos acima:</p>
<ul>
<li><p>Salve o arquivo como <code>*.ods</code>;</p></li>
<li><p>Salve novamente como <code>*.csv</code> - veja como você tem controle na exportação quanto aos elementos acima.</p></li>
</ul>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="mat-dframe.html#cb676-1"></a><span class="co"># se você colocou o arquivo na sua pasta de trabalho, ele deve estar visível por</span></span>
<span id="cb676-2"><a href="mat-dframe.html#cb676-2"></a><span class="kw">dir</span>(<span class="dt">pattern =</span> <span class="st">&quot;csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="mat-dframe.html#cb677-1"></a><span class="co"># então posso ler sem precisar especificar o caminho até o arquivo</span></span>
<span id="cb677-2"><a href="mat-dframe.html#cb677-2"></a><span class="co"># veja o help da função antes de começar</span></span>
<span id="cb677-3"><a href="mat-dframe.html#cb677-3"></a>?read.table</span>
<span id="cb677-4"><a href="mat-dframe.html#cb677-4"></a><span class="co"># os seguintes argumentos são mais importantes:</span></span>
<span id="cb677-5"><a href="mat-dframe.html#cb677-5"></a><span class="co"># sep = &quot; &quot; #o codigo que separa as colunas, o padrão é espaço</span></span>
<span id="cb677-6"><a href="mat-dframe.html#cb677-6"></a><span class="co"># quote = &quot;\&quot;&#39;&quot;  #o que define células de texto - o padrão é interpretar tanto aspa simples como dupla presentes</span></span>
<span id="cb677-7"><a href="mat-dframe.html#cb677-7"></a><span class="co"># dec = &quot;.&quot; #ponto é a casa decimal padrão</span></span>
<span id="cb677-8"><a href="mat-dframe.html#cb677-8"></a><span class="co"># header = FALSE #a primeira linha não tem o nome de colunas</span></span>
<span id="cb677-9"><a href="mat-dframe.html#cb677-9"></a><span class="co"># as.is = FALSE #o padrão é converter texto em fatores, se usar T não fará isso</span></span>
<span id="cb677-10"><a href="mat-dframe.html#cb677-10"></a><span class="co"># na.strings #se definir, pode informar aqui que símbolos em células inteiras que sejam interpretados como valores ausentes (NA)</span></span>
<span id="cb677-11"><a href="mat-dframe.html#cb677-11"></a><span class="co"># encoding #codificação da acentuação. o padrão é &#39;unknown&#39; (desconhecido), na qual ele reconhece segundo o sistema operacional. As opções mais usadas são &#39;latin1&#39; ou &#39;utf8&#39; e alterne com isso se você tem problemas com acentos.</span></span></code></pre></div>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="mat-dframe.html#cb678-1"></a><span class="co"># o arquivo original tem os seguintes formatos:</span></span>
<span id="cb678-2"><a href="mat-dframe.html#cb678-2"></a><span class="co"># colunas separadas por tabulação (no R isso é definido pela expressão regular &quot;\t&quot;)</span></span>
<span id="cb678-3"><a href="mat-dframe.html#cb678-3"></a><span class="co"># decimal com ponto</span></span>
<span id="cb678-4"><a href="mat-dframe.html#cb678-4"></a><span class="co"># não tem aspas definindo as colunas de texto.</span></span>
<span id="cb678-5"><a href="mat-dframe.html#cb678-5"></a><span class="co"># a primeira linha é o nome das colunas.</span></span>
<span id="cb678-6"><a href="mat-dframe.html#cb678-6"></a><span class="co"># Então, para ler posso usar:</span></span>
<span id="cb678-7"><a href="mat-dframe.html#cb678-7"></a>dd &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> T)</span>
<span id="cb678-8"><a href="mat-dframe.html#cb678-8"></a><span class="kw">class</span>(dd) <span class="co"># data.frame</span></span>
<span id="cb678-9"><a href="mat-dframe.html#cb678-9"></a><span class="kw">dim</span>(dd) <span class="co"># dimensão do objeto</span></span>
<span id="cb678-10"><a href="mat-dframe.html#cb678-10"></a><span class="kw">head</span>(dd) <span class="co"># cabeçalho do data.frame</span></span>
<span id="cb678-11"><a href="mat-dframe.html#cb678-11"></a></span>
<span id="cb678-12"><a href="mat-dframe.html#cb678-12"></a><span class="co"># veja o que aconteceria se eu achasse que no meu arquivo as colunas são separadas por vírgula</span></span>
<span id="cb678-13"><a href="mat-dframe.html#cb678-13"></a>dd2 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> T)</span>
<span id="cb678-14"><a href="mat-dframe.html#cb678-14"></a><span class="kw">head</span>(dd2)</span>
<span id="cb678-15"><a href="mat-dframe.html#cb678-15"></a><span class="kw">dim</span>(dd2) <span class="co"># apenas 1 coluna, porque o separador informado não é o mesmo dos dados</span></span>
<span id="cb678-16"><a href="mat-dframe.html#cb678-16"></a></span>
<span id="cb678-17"><a href="mat-dframe.html#cb678-17"></a><span class="co"># e se o encoding do meu arquivo estiver errado?</span></span>
<span id="cb678-18"><a href="mat-dframe.html#cb678-18"></a>dd3 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> T, <span class="dt">encoding =</span> <span class="st">&quot;latin1&quot;</span>)</span>
<span id="cb678-19"><a href="mat-dframe.html#cb678-19"></a>dd3[<span class="dv">5562</span>, ] <span class="co"># veja o que aconteceu com os acentos nessa linha</span></span>
<span id="cb678-20"><a href="mat-dframe.html#cb678-20"></a>dd[<span class="dv">5562</span>, ] <span class="co"># no original o encoding não é &quot;latin1&quot;</span></span>
<span id="cb678-21"><a href="mat-dframe.html#cb678-21"></a></span>
<span id="cb678-22"><a href="mat-dframe.html#cb678-22"></a><span class="co"># veja a estrutura do objeto correto</span></span>
<span id="cb678-23"><a href="mat-dframe.html#cb678-23"></a><span class="kw">str</span>(dd)</span>
<span id="cb678-24"><a href="mat-dframe.html#cb678-24"></a><span class="co"># Poxa, todas as colunas são fatores, mesmo as colunas Latitude e Longitude que são numéricas.</span></span>
<span id="cb678-25"><a href="mat-dframe.html#cb678-25"></a><span class="co"># Deve ter algum valor nessas colunas que não são numéricos.</span></span>
<span id="cb678-26"><a href="mat-dframe.html#cb678-26"></a><span class="co"># Quais são?</span></span>
<span id="cb678-27"><a href="mat-dframe.html#cb678-27"></a>vl &lt;-<span class="st"> </span><span class="kw">is.na</span>(<span class="kw">as.numeric</span>(<span class="kw">as.vector</span>(dd<span class="op">$</span>Latitude))) <span class="co"># quais são NA quando eu converto para numérico? Pois esses devem ser valores de texto e não numéricos. Note que converti o fator para vetor antes de converter para numérico. A função is.na pergunta o que é NA, pois os textos que não podem ser convertidos para número serão valores ausentes (NA)</span></span>
<span id="cb678-28"><a href="mat-dframe.html#cb678-28"></a><span class="kw">sum</span>(vl)</span>
<span id="cb678-29"><a href="mat-dframe.html#cb678-29"></a>dd[vl, ] <span class="co"># essas linhas tem a palavra &quot;NULL&quot; para Latitude e Longitude no arquivo original (volte lá para confirmar), e o R não reconheceu isso como ausente NA. Como vetores devem ser da mesma classe, os números dessas colunas foram codificados como texto e as colunas convertidas a fatores de texto que é o padrão da função read.table()</span></span></code></pre></div>
<p>Podemos usar o argumento <code>na.strings</code> para corrigir isso durante a importação:</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="mat-dframe.html#cb679-1"></a>dd4 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> T, <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;&quot;</span>))</span>
<span id="cb679-2"><a href="mat-dframe.html#cb679-2"></a><span class="co"># qualquer CELULA INTEIRA que contenha NULL ou NA ou esteja vazia SERÁ INTERPRETADA COMO VALOR AUSENTE e codificada como NA no R.</span></span>
<span id="cb679-3"><a href="mat-dframe.html#cb679-3"></a><span class="kw">str</span>(dd4)</span>
<span id="cb679-4"><a href="mat-dframe.html#cb679-4"></a><span class="co"># note que agora as colunas Latitude e Longitude foram interpretadas como número</span></span>
<span id="cb679-5"><a href="mat-dframe.html#cb679-5"></a></span>
<span id="cb679-6"><a href="mat-dframe.html#cb679-6"></a><span class="co"># mas o que acontece se informamos mal a casa decimal?</span></span>
<span id="cb679-7"><a href="mat-dframe.html#cb679-7"></a>dd5 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> T, <span class="dt">dec =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;&quot;</span>))</span>
<span id="cb679-8"><a href="mat-dframe.html#cb679-8"></a><span class="kw">str</span>(dd5)</span>
<span id="cb679-9"><a href="mat-dframe.html#cb679-9"></a><span class="co"># como tem ponto como definição de casa decimal no arquivo de dados, as colunas numéricas foram novamente interpretadas como texto.</span></span>
<span id="cb679-10"><a href="mat-dframe.html#cb679-10"></a></span>
<span id="cb679-11"><a href="mat-dframe.html#cb679-11"></a><span class="co"># Texto como vetores ou fatores?</span></span>
<span id="cb679-12"><a href="mat-dframe.html#cb679-12"></a>dd4 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> T, <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;&quot;</span>))</span>
<span id="cb679-13"><a href="mat-dframe.html#cb679-13"></a><span class="kw">str</span>(dd4) <span class="co"># todas as colunas de texto neste objeto foram interpretadas como fatores</span></span>
<span id="cb679-14"><a href="mat-dframe.html#cb679-14"></a><span class="co"># o argumento as.is permite corrigir isso. &quot;as is&quot; significa &quot;como está&quot; nos dados originais, então valores de texto são lidos como vetores de caracteres não codificados em fatores.</span></span>
<span id="cb679-15"><a href="mat-dframe.html#cb679-15"></a>dd6 &lt;-<span class="st"> </span><span class="kw">read.table</span>(</span>
<span id="cb679-16"><a href="mat-dframe.html#cb679-16"></a>  <span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>,</span>
<span id="cb679-17"><a href="mat-dframe.html#cb679-17"></a>  <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,</span>
<span id="cb679-18"><a href="mat-dframe.html#cb679-18"></a>  <span class="dt">header =</span> T,</span>
<span id="cb679-19"><a href="mat-dframe.html#cb679-19"></a>  <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>,</span>
<span id="cb679-20"><a href="mat-dframe.html#cb679-20"></a>  <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;&quot;</span>),</span>
<span id="cb679-21"><a href="mat-dframe.html#cb679-21"></a>  <span class="dt">as.is =</span> <span class="ot">TRUE</span></span>
<span id="cb679-22"><a href="mat-dframe.html#cb679-22"></a>)</span>
<span id="cb679-23"><a href="mat-dframe.html#cb679-23"></a><span class="kw">str</span>(dd6) <span class="co"># diferentemente do objeto anterior, não há mais fatores</span></span></code></pre></div>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="mat-dframe.html#cb680-1"></a><span class="co"># Lembram que colocamos o endereco do arquivo mais acima?</span></span>
<span id="cb680-2"><a href="mat-dframe.html#cb680-2"></a><span class="co"># podemos usar um endereco da internet para baixar um arquivo</span></span>
<span id="cb680-3"><a href="mat-dframe.html#cb680-3"></a>dd7 &lt;-</span>
<span id="cb680-4"><a href="mat-dframe.html#cb680-4"></a><span class="st">  </span><span class="kw">read.table</span>(</span>
<span id="cb680-5"><a href="mat-dframe.html#cb680-5"></a>    <span class="st">&quot;http://www.botanicaamazonica.wiki.br/labotam/lib/exe/fetch.php?media=disciplinas:bot89_2013:exercicio08:municipiosbrasil.csv&quot;</span>,</span>
<span id="cb680-6"><a href="mat-dframe.html#cb680-6"></a>    <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,</span>
<span id="cb680-7"><a href="mat-dframe.html#cb680-7"></a>    <span class="dt">header =</span> <span class="ot">TRUE</span></span>
<span id="cb680-8"><a href="mat-dframe.html#cb680-8"></a>  )</span>
<span id="cb680-9"><a href="mat-dframe.html#cb680-9"></a>dd7</span>
<span id="cb680-10"><a href="mat-dframe.html#cb680-10"></a><span class="kw">head</span>(dd7)</span>
<span id="cb680-11"><a href="mat-dframe.html#cb680-11"></a><span class="co"># a função read.table tem vários outros argumentos. Veja o help e entenda isso bem.</span></span></code></pre></div>
</div>
<div id="pacote-readr" class="section level4">
<h4><span class="header-section-number">3.4.2.2</span> Pacote readr</h4>
<p>A principal função para ler arquivos do pacote <code>readr</code> <span class="citation">(Wickham e Hester <a href="#ref-R-readr" role="doc-biblioref">2020</a>)</span> se chama <code>read_delim()</code>.
Funciona de maneira parecida com o <code>read.table()</code> com algumas pequenas diferenças: não converte colunas de texto que possam ser categorizadas em fatores (<code>read.table()</code> faz isso por padrão), retorna um <code>tibble</code> no lugar de um data.frame (<code>tibbles</code> são <code>data.frames</code> diferentes na maneira como aparecem no console; além de mostrar apenas uma porção dos dados, para cada coluna há a indicação do tipo de variável presente), assume por padrão que o dado importado possui cabeçalho.
Existem outras diferenças que podem ser melhor entendidas na página do pacote (<a href="https://github.com/tidyverse/readr" class="uri">https://github.com/tidyverse/readr</a>).
Os argumentos possuem nomes diferentes do que os utilizados em <code>read.table()</code> e, como este, importa arquivos em formato de texto simples (<em>.csv</em> , <em>.txt</em>).</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="mat-dframe.html#cb681-1"></a><span class="co"># pacote readr</span></span>
<span id="cb681-2"><a href="mat-dframe.html#cb681-2"></a><span class="co"># usando como exemplo o mesmo arquivo municipiosbrasil.csv</span></span>
<span id="cb681-3"><a href="mat-dframe.html#cb681-3"></a><span class="kw">library</span>(<span class="st">&quot;readr&quot;</span>)</span>
<span id="cb681-4"><a href="mat-dframe.html#cb681-4"></a>rr1 &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</span>
<span id="cb681-5"><a href="mat-dframe.html#cb681-5"></a>rr1</span>
<span id="cb681-6"><a href="mat-dframe.html#cb681-6"></a>dd7</span>
<span id="cb681-7"><a href="mat-dframe.html#cb681-7"></a><span class="kw">dim</span>(rr1)</span>
<span id="cb681-8"><a href="mat-dframe.html#cb681-8"></a><span class="kw">dim</span>(dd7)</span></code></pre></div>
<p>Como no pacote <code>base</code>, também podemos ler arquivos diretamente da rede:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="mat-dframe.html#cb682-1"></a>rr2 &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&quot;http://www.botanicaamazonica.wiki.br/labotam/lib/exe/fetch.php?media=disciplinas:bot89_2013:exercicio08:municipiosbrasil.csv&quot;</span>, <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</span>
<span id="cb682-2"><a href="mat-dframe.html#cb682-2"></a>rr2</span></code></pre></div>
</div>
<div id="pacote-data.table" class="section level4">
<h4><span class="header-section-number">3.4.2.3</span> Pacote data.table</h4>
<p>A principal função para ler arquivos do pacote <code>data.table</code> <span class="citation">(Dowle e Srinivasan <a href="#ref-R-datatable" role="doc-biblioref">2020</a>)</span> se chama <code>fread()</code>.
Este pacote é muito conhecido devido à velocidade de suas ações, funcionando perfeitamente para dados grandes.
Esta função possui uma particularidade: o usuário não precisa indicar o separador; automaticamente ele descobre o separador e lê o arquivo.
Em casos especiais, é necessário a indicação do separador com o argumento <code>sep</code>, igual ao <code>read.table()</code>.
Ao ler um arquivo, a função retorna também um <code>data.frame</code>, porém com certas particularidades quanto à impressão do resultado na tela do console, como acontece com a função <code>read_delim()</code> do pacote <code>readr</code>.
Mais informações, leiam atentamente o site do pacote: <a href="https://github.com/Rdatatable/data.table" class="uri">https://github.com/Rdatatable/data.table</a>.
O pacote como um todo é uma excelente ferramenta na manipulação de dados.
Como os pacotes citados acima, esta função é capaz de importar arquivos em formato de texto simples (<code>.csv</code> , <code>.txt</code>).</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="mat-dframe.html#cb683-1"></a><span class="co"># pacote data.table</span></span>
<span id="cb683-2"><a href="mat-dframe.html#cb683-2"></a><span class="co"># usando como exemplo o mesmo arquivo municipiosbrasil.csv</span></span>
<span id="cb683-3"><a href="mat-dframe.html#cb683-3"></a><span class="kw">library</span>(<span class="st">&quot;data.table&quot;</span>)</span>
<span id="cb683-4"><a href="mat-dframe.html#cb683-4"></a>dt1 &lt;-<span class="st"> </span><span class="kw">fread</span>(<span class="st">&quot;municipiosbrasil.csv&quot;</span>)</span>
<span id="cb683-5"><a href="mat-dframe.html#cb683-5"></a>dt1</span></code></pre></div>
<p>Também podemos ler arquivos diretamente da rede, providenciando um endereço que contenha um arquivo de texto simples:</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb684-1"><a href="mat-dframe.html#cb684-1"></a>dt2 &lt;-<span class="st"> </span><span class="kw">fread</span>(<span class="st">&quot;http://www.botanicaamazonica.wiki.br/labotam/lib/exe/fetch.php?media=disciplinas:bot89_2013:exercicio08:municipiosbrasil.csv&quot;</span>)</span>
<span id="cb684-2"><a href="mat-dframe.html#cb684-2"></a>dt2</span></code></pre></div>
</div>
<div id="importando-do-excel-diretamente" class="section level4">
<h4><span class="header-section-number">3.4.2.4</span> Importando do Excel diretamente</h4>
<p>Utilizamos o pacote <code>readxl</code><span class="citation">(Wickham e Bryan <a href="#ref-R-readxl" role="doc-biblioref">2019</a>)</span> para ler dados de arquivos Excel, isto é, arquivos <code>.xlsx</code> ou <code>.xls</code>.
A principal função para importar dados deste pacote se chama <code>read_excel()</code>.
Os principais erros aqui podem ser por células unidas, cabeçalhos no topo da planilha, e acentos.
Veja o <code>?</code> das funções usadas para conhecer parâmetros opcionais para resolver esses possíveis problemas.</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="mat-dframe.html#cb685-1"></a><span class="co"># instale o pacote</span></span>
<span id="cb685-2"><a href="mat-dframe.html#cb685-2"></a><span class="kw">library</span>(<span class="st">&quot;readxl&quot;</span>)</span>
<span id="cb685-3"><a href="mat-dframe.html#cb685-3"></a></span>
<span id="cb685-4"><a href="mat-dframe.html#cb685-4"></a><span class="co"># se o arquivo for xls</span></span>
<span id="cb685-5"><a href="mat-dframe.html#cb685-5"></a><span class="co"># Salve o arquivo municipiosbrasil.csv como xlsx ou xls</span></span>
<span id="cb685-6"><a href="mat-dframe.html#cb685-6"></a>meuxlsx &lt;-<span class="st"> &quot;municipiosbrasil.xlsx&quot;</span></span>
<span id="cb685-7"><a href="mat-dframe.html#cb685-7"></a>dd &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="dt">path =</span> meuxlsx, <span class="dt">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb685-8"><a href="mat-dframe.html#cb685-8"></a>dd</span>
<span id="cb685-9"><a href="mat-dframe.html#cb685-9"></a>dd &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(dd)</span>
<span id="cb685-10"><a href="mat-dframe.html#cb685-10"></a>dd</span>
<span id="cb685-11"><a href="mat-dframe.html#cb685-11"></a></span>
<span id="cb685-12"><a href="mat-dframe.html#cb685-12"></a><span class="co"># se o arquivo for xls</span></span>
<span id="cb685-13"><a href="mat-dframe.html#cb685-13"></a>meuxls &lt;-<span class="st"> &quot;municipiosbrasil.xls&quot;</span></span>
<span id="cb685-14"><a href="mat-dframe.html#cb685-14"></a>dd &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="dt">path =</span> meuxls, <span class="dt">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb685-15"><a href="mat-dframe.html#cb685-15"></a>dd</span>
<span id="cb685-16"><a href="mat-dframe.html#cb685-16"></a>dd &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(dd)</span>
<span id="cb685-17"><a href="mat-dframe.html#cb685-17"></a>dd</span></code></pre></div>
</div>
</div>
<div id="exportando-dados" class="section level3">
<h3><span class="header-section-number">3.4.3</span> Exportando dados</h3>
<div id="pacote-base-do-r-1" class="section level4">
<h4><span class="header-section-number">3.4.3.1</span> Pacote base do R</h4>
<p>A principal função do pacote <code>base</code> do R para exportar dados se chama <code>write.table()</code>.
Ela funciona para exportar arquivos em formato de texto simples (<code>.csv</code>, <code>.txt</code>) e usa basicamente os mesmos argumentos da função <code>read.table()</code>.</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb686-1"><a href="mat-dframe.html#cb686-1"></a>?write.table <span class="co"># veja o help - recomendo usar essa função genérica e evitar de usar atalhos tipo write.csv, que no fundo usam esta mesma função</span></span></code></pre></div>
<p>Por se tratar de uma função do pacote <code>base</code>, não é necessário recorrer a função <code>library()</code> para chamar nenhum pacote, pois a função encontra-se disponível a qualquer momento para ser utilizada no R:</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="mat-dframe.html#cb687-1"></a><span class="co"># vamos usar o mesmo arquivo</span></span>
<span id="cb687-2"><a href="mat-dframe.html#cb687-2"></a><span class="kw">dir</span>(<span class="dt">pattern =</span> <span class="st">&quot;csv&quot;</span>)</span>
<span id="cb687-3"><a href="mat-dframe.html#cb687-3"></a><span class="co"># ler o arquivo para o R para ter algo a exportar</span></span>
<span id="cb687-4"><a href="mat-dframe.html#cb687-4"></a>dd &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> T, <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;NULL&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;&quot;</span>), <span class="dt">as.is =</span> <span class="ot">TRUE</span>)</span>
<span id="cb687-5"><a href="mat-dframe.html#cb687-5"></a><span class="kw">str</span>(dd) <span class="co"># diferentemente do objeto anterior, não há mais fatores</span></span>
<span id="cb687-6"><a href="mat-dframe.html#cb687-6"></a></span>
<span id="cb687-7"><a href="mat-dframe.html#cb687-7"></a><span class="co"># filtrando apenas para municipios do Amazonas:</span></span>
<span id="cb687-8"><a href="mat-dframe.html#cb687-8"></a>vl &lt;-<span class="st"> </span>dd<span class="op">$</span>Province <span class="op">%in%</span><span class="st"> &quot;Amazonas&quot;</span></span>
<span id="cb687-9"><a href="mat-dframe.html#cb687-9"></a><span class="kw">sum</span>(vl) <span class="co"># quantos são?</span></span>
<span id="cb687-10"><a href="mat-dframe.html#cb687-10"></a><span class="co"># ou, desse jeito que é identico:</span></span>
<span id="cb687-11"><a href="mat-dframe.html#cb687-11"></a>vl &lt;-<span class="st"> </span>dd<span class="op">$</span>Province <span class="op">==</span><span class="st"> &quot;Amazonas&quot;</span></span>
<span id="cb687-12"><a href="mat-dframe.html#cb687-12"></a><span class="kw">sum</span>(vl)</span>
<span id="cb687-13"><a href="mat-dframe.html#cb687-13"></a>dd.am &lt;-<span class="st"> </span>dd[vl, ]</span>
<span id="cb687-14"><a href="mat-dframe.html#cb687-14"></a><span class="kw">nrow</span>(dd.am) <span class="op">==</span><span class="st"> </span><span class="kw">sum</span>(vl) <span class="co"># deve ser verdadeiro, certo?</span></span>
<span id="cb687-15"><a href="mat-dframe.html#cb687-15"></a></span>
<span id="cb687-16"><a href="mat-dframe.html#cb687-16"></a><span class="co"># salvando esses dados num novo arquivo com diferentes formatações:</span></span>
<span id="cb687-17"><a href="mat-dframe.html#cb687-17"></a><span class="co"># separado por tabulação e textos sem aspas e células NA sem nada</span></span>
<span id="cb687-18"><a href="mat-dframe.html#cb687-18"></a><span class="kw">write.table</span>(dd.am, <span class="dt">file =</span> <span class="st">&quot;muni-am1.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;&quot;</span>, <span class="dt">quote =</span> <span class="ot">FALSE</span>)</span>
<span id="cb687-19"><a href="mat-dframe.html#cb687-19"></a><span class="co"># separado por tabulação e textos com aspas e células NA sem nada</span></span>
<span id="cb687-20"><a href="mat-dframe.html#cb687-20"></a><span class="kw">write.table</span>(dd.am, <span class="dt">file =</span> <span class="st">&quot;muni-am2.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;&quot;</span>, <span class="dt">quote =</span> <span class="ot">TRUE</span>)</span>
<span id="cb687-21"><a href="mat-dframe.html#cb687-21"></a></span>
<span id="cb687-22"><a href="mat-dframe.html#cb687-22"></a><span class="co"># separado por vírgula e textos com aspas e células NA com a palavra valor.ausente</span></span>
<span id="cb687-23"><a href="mat-dframe.html#cb687-23"></a><span class="kw">write.table</span>(dd.am, <span class="dt">file =</span> <span class="st">&quot;muni-am3.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;valor.ausente&quot;</span>, <span class="dt">quote =</span> <span class="ot">TRUE</span>)</span>
<span id="cb687-24"><a href="mat-dframe.html#cb687-24"></a></span>
<span id="cb687-25"><a href="mat-dframe.html#cb687-25"></a><span class="co"># separado por vírgula e textos com aspas e células NA vazios e não adicona nomes das linhas como primeira coluna (row.names=FALSE). Pode deslocar a primeira linha na sua planilha SE você NAO USAR este argumento)</span></span>
<span id="cb687-26"><a href="mat-dframe.html#cb687-26"></a><span class="kw">write.table</span>(dd.am, <span class="dt">file =</span> <span class="st">&quot;muni-am4.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;&quot;</span>, <span class="dt">quote =</span> <span class="ot">TRUE</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</span>
<span id="cb687-27"><a href="mat-dframe.html#cb687-27"></a></span>
<span id="cb687-28"><a href="mat-dframe.html#cb687-28"></a><span class="co"># separado por tabulação e textos sem aspas e células NA vazias, sem nomes das linhas, e quebra de linha no formato do windows (eol = &quot;\r\n&quot;)</span></span>
<span id="cb687-29"><a href="mat-dframe.html#cb687-29"></a><span class="kw">write.table</span>(dd.am, <span class="dt">file =</span> <span class="st">&quot;muni-am5.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;&quot;</span>, <span class="dt">quote =</span> <span class="ot">TRUE</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>, <span class="dt">eol =</span> <span class="st">&quot;</span><span class="ch">\r\n</span><span class="st">&quot;</span>)</span>
<span id="cb687-30"><a href="mat-dframe.html#cb687-30"></a></span>
<span id="cb687-31"><a href="mat-dframe.html#cb687-31"></a><span class="co"># ABRA OS ARQUIVOS GERADOS NO SEU EDITOR DE TEXTO E COMPARE AS FORMATAÇÕES GERADAS</span></span></code></pre></div>
</div>
<div id="pacote-readr-1" class="section level4">
<h4><span class="header-section-number">3.4.3.2</span> Pacote <code>readr</code></h4>
<p>A principal função do pacote <code>readr</code>para exportar dados se chama <code>write_delim()</code>.
Ela exporta <code>data.frames</code> em formato de texto simples (<code>.csv</code>, <code>.txt</code>), utilizando basicamente os mesmos argumentos da função <code>read_delim()</code>, pertencente ao mesmo pacote.</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb688-1"><a href="mat-dframe.html#cb688-1"></a><span class="co"># exportando dados com pacote readr</span></span>
<span id="cb688-2"><a href="mat-dframe.html#cb688-2"></a><span class="co"># utilizando mesmo objeto criado com pacote base</span></span>
<span id="cb688-3"><a href="mat-dframe.html#cb688-3"></a><span class="kw">write_delim</span>(dd.am, <span class="st">&quot;muni-am6.csv&quot;</span>, <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</span>
<span id="cb688-4"><a href="mat-dframe.html#cb688-4"></a><span class="kw">write_delim</span>(dd.am, <span class="st">&quot;muni-am7.csv&quot;</span>, <span class="dt">delim =</span> <span class="st">&quot;;&quot;</span>)</span></code></pre></div>
</div>
<div id="pacote-data.table-1" class="section level4">
<h4><span class="header-section-number">3.4.3.3</span> Pacote <code>data.table</code></h4>
<p>A principal função do pacote <code>data.table</code> para exportar <code>data.frames</code> em formato de texto simples (<code>.csv</code>, <code>.txt</code>) se chama <code>fwrite()</code> e usa basicamente os mesmos argumentos da função <code>read_delim()</code>, pertencente ao pacote <code>readr</code>.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="mat-dframe.html#cb689-1"></a><span class="co"># exportando dados com pacote data.table</span></span>
<span id="cb689-2"><a href="mat-dframe.html#cb689-2"></a><span class="co"># utilizando mesmo objeto criado com pacote base</span></span>
<span id="cb689-3"><a href="mat-dframe.html#cb689-3"></a><span class="kw">fwrite</span>(dd.am, <span class="st">&quot;muni-am8.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="outras-funções-úteis" class="section level3">
<h3><span class="header-section-number">3.4.4</span> Outras funções úteis</h3>
<p>A função <code>scan()</code> lê um arquivo de texto em qualquer formato para um vetor ou lista no R.
Trata-se de uma função genérica que é bom memorizar.
Vamos usar o mesmo arquivo <code>municipiosbrasil.csv</code> para demonstrar sua utilidade:</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="mat-dframe.html#cb690-1"></a><span class="co"># esta função é muito util para ler linha por linha um arquivo de texto que você quer explorar.</span></span>
<span id="cb690-2"><a href="mat-dframe.html#cb690-2"></a>dd &lt;-<span class="st"> </span><span class="kw">scan</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;complex&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="mat-dframe.html#cb691-1"></a><span class="kw">class</span>(dd)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb693-1"><a href="mat-dframe.html#cb693-1"></a><span class="kw">length</span>(dd) <span class="co"># cada linha é um elemento do vetor</span></span></code></pre></div>
<pre><code>## [1] 5568</code></pre>
<div class="sourceCode" id="cb695"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb695-1"><a href="mat-dframe.html#cb695-1"></a>dd[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Country\tProvince\tRegiao\tMunicipio\tLatitude\tLongitude&quot;</code></pre>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="mat-dframe.html#cb697-1"></a><span class="co"># usando tabulação</span></span>
<span id="cb697-2"><a href="mat-dframe.html#cb697-2"></a>dd2 &lt;-<span class="st"> </span><span class="kw">scan</span>(<span class="dt">file =</span> <span class="st">&quot;municipiosbrasil.csv&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;complex&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="mat-dframe.html#cb698-1"></a><span class="kw">class</span>(dd2)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="mat-dframe.html#cb700-1"></a><span class="kw">length</span>(dd2) <span class="co"># cada célula é um elemento deste vetor</span></span></code></pre></div>
<pre><code>## [1] 33408</code></pre>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="mat-dframe.html#cb702-1"></a>dd2[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Country&quot;   &quot;Province&quot;  &quot;Regiao&quot;    &quot;Municipio&quot; &quot;Latitude&quot;</code></pre>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="mat-dframe.html#cb704-1"></a><span class="co"># nao faz muito sentido com esses dados que tem formato de tabela, mas essa função pode ser usada com qualquer arquivo de tipo texto, por exemplo:</span></span>
<span id="cb704-2"><a href="mat-dframe.html#cb704-2"></a><span class="co"># de um artigo no qual você quer buscar palavras e tabular palavras chaves?</span></span>
<span id="cb704-3"><a href="mat-dframe.html#cb704-3"></a><span class="co"># num log de uma análise feita por outro software (nao no R) do qual você quer extrair resultados a partir da lógica complicada do texto de resultado)</span></span>
<span id="cb704-4"><a href="mat-dframe.html#cb704-4"></a><span class="co"># etc.</span></span></code></pre></div>
</div>
</div>
<div id="sabermais-indexacao-matrizes-dframes" class="section level2">
<h2><span class="header-section-number">3.5</span> Para saber mais:</h2>
<ul>
<li>Vídeoaula de <a href="https://youtu.be/CJILnDzVviQ">Indexação de matrizes e <code>data.frames</code></a>.</li>
<li>Vídeoaula de <a href="http://www.botanicaamazonica.wiki.br/labotam/lib/exe/fetch.php?media=bot89:precurso:3matrizes:video01_bot89-2020-04-08_11.41.08.mp4">filtragem e ordenação de matrizes</a>.</li>
</ul>
</div>
<div id="exercícios-2" class="section level2">
<h2><span class="header-section-number">3.6</span> Exercícios</h2>
<ul>
<li>Resolva o exercício <a href="http://www.lage.ib.usp.br/notar/exercicio.php?exerc=23">103.01 Distância entre cidades</a>.</li>
<li>Resolva o exercício <a href="http://www.lage.ib.usp.br/notar/exercicio.php?exerc=2">103.02 Criação de um data frame</a>.</li>
<li>Resolva o exercício <a href="http://www.lage.ib.usp.br/notar/exercicio.php?exerc=13">103.03 Criando uma Matriz</a>.</li>
</ul>

</div>
</div>
<h3>Referências</h3>
<div id="refs" class="references">
<div id="ref-R-datatable">
<p>Dowle, Matt, e Arun Srinivasan. 2020. <em>data.table: Extension of ‘data.frame‘</em>. <a href="https://CRAN.R-project.org/package=data.table">https://CRAN.R-project.org/package=data.table</a>.</p>
</div>
<div id="ref-R-readxl">
<p>Wickham, Hadley, e Jennifer Bryan. 2019. <em>readxl: Read Excel Files</em>. <a href="https://CRAN.R-project.org/package=readxl">https://CRAN.R-project.org/package=readxl</a>.</p>
</div>
<div id="ref-R-readr">
<p>Wickham, Hadley, e Jim Hester. 2020. <em>readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Isso é mais fácil de ser feito no LibreOffice/OpenOffice<a href="mat-dframe.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="vetores.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lista-objcompl.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/LABOTAM/LABOTAM.github.io/edit/main/03-matrizes_dframes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/LABOTAM/LABOTAM.github.io/edit/main/03-matrizes_dframes.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
